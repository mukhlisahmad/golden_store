(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{100:function(e,a,r){Promise.resolve().then(r.bind(r,4011))},4011:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return eV}});var t,s=r(7437),l=r(5119),n=r(2265),i=r(5922),o=r(5929),d=r(7226),c=r(7053),m=r(535),u=r(1994),h=r(3335);function x(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,h.m6)((0,u.W)(a))}let p=(0,m.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"text-primary border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"text-primary hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),b=n.forwardRef((e,a)=>{let{className:r,variant:t,size:l,asChild:n=!1,...i}=e,o=n?c.g7:"button";return(0,s.jsx)(o,{className:x(p({variant:t,size:l,className:r})),ref:a,...i})});b.displayName="Button";var g=function(){let{theme:e,setTheme:a,resolvedTheme:r}=(0,i.F)();return(0,s.jsxs)(b,{"aria-label":"Toggle theme",variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>{a("dark"===(null!=e?e:r)?"light":"dark")},children:[(0,s.jsx)(o.Z,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(d.Z,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})},f=r(7760),k=r(9219),j=r(4246),v=r(2449),N=r(2718),y=r(1818);let w=y.zt,S=y.fC,C=y.xz,T=n.forwardRef((e,a)=>{let{className:r,sideOffset:t=4,...l}=e;return(0,s.jsx)(y.h_,{children:(0,s.jsx)(y.VY,{ref:a,sideOffset:t,className:x("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",r),...l})})});function E(e){let{href:a,label:r,children:t}=e;return a?(0,s.jsx)(w,{delayDuration:200,children:(0,s.jsxs)(S,{children:[(0,s.jsx)(C,{asChild:!0,children:(0,s.jsx)("a",{href:a,target:"_blank",rel:"noreferrer","aria-label":r,className:"inline-flex h-9 w-9 items-center justify-center rounded-full border border-amber-400/40 bg-white/70 text-amber-700 shadow-sm transition hover:scale-105 hover:border-amber-500 hover:bg-white hover:text-amber-800 dark:border-amber-300/30 dark:bg-neutral-900/60 dark:text-amber-300 dark:hover:border-amber-200 dark:hover:bg-neutral-900",children:t})}),(0,s.jsx)(T,{children:(0,s.jsx)("p",{children:r})})]})}):null}function U(e){let{instagram:a,facebook:r,tiktok:t,shopee:l,whatsapp:n,className:i}=e;return(0,s.jsxs)("div",{className:["flex items-center gap-2",i].filter(Boolean).join(" "),children:[(0,s.jsx)(E,{href:a,label:"Instagram",children:(0,s.jsx)(f.Z,{className:"h-4 w-4"})}),(0,s.jsx)(E,{href:r,label:"Facebook",children:(0,s.jsx)(k.Z,{className:"h-4 w-4"})}),(0,s.jsx)(E,{href:t,label:"TikTok",children:(0,s.jsx)(j.Z,{className:"h-4 w-4"})}),(0,s.jsx)(E,{href:l,label:"Shopee",children:(0,s.jsx)(v.Z,{className:"h-4 w-4"})}),(0,s.jsx)(E,{href:n,label:"WhatsApp",children:(0,s.jsx)(N.Z,{className:"h-4 w-4"})})]})}T.displayName=y.VY.displayName;let D=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("div",{ref:a,className:x("rounded-xl border bg-card text-card-foreground shadow",r),...t})});D.displayName="Card";let F=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("div",{ref:a,className:x("flex flex-col space-y-1.5 p-6",r),...t})});F.displayName="CardHeader";let H=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("div",{ref:a,className:x("font-semibold leading-none tracking-tight",r),...t})});H.displayName="CardTitle",n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("div",{ref:a,className:x("text-sm text-muted-foreground",r),...t})}).displayName="CardDescription";let P=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("div",{ref:a,className:x("p-6 pt-0",r),...t})});P.displayName="CardContent";let R=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("div",{ref:a,className:x("flex items-center p-6 pt-0",r),...t})});R.displayName="CardFooter";let A=(0,m.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _(e){let{className:a,variant:r,...t}=e;return(0,s.jsx)("div",{className:x(A({variant:r}),a),...t})}var I=r(2650),z=r(2489);let G=I.fC,W=I.xz,B=I.h_;I.x8;let L=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(I.aV,{ref:a,className:x("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...t})});L.displayName=I.aV.displayName;let M=n.forwardRef((e,a)=>{let{className:r,children:t,...l}=e;return(0,s.jsxs)(B,{children:[(0,s.jsx)(L,{}),(0,s.jsxs)(I.VY,{ref:a,className:x("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...l,children:[t,(0,s.jsxs)(I.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(z.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});M.displayName=I.VY.displayName;let q=e=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:x("flex flex-col space-y-1.5 text-center sm:text-left",a),...r})};q.displayName="DialogHeader";let O=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(I.Dx,{ref:a,className:x("text-lg font-semibold leading-none tracking-tight",r),...t})});O.displayName=I.Dx.displayName;let Z=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(I.dk,{ref:a,className:x("text-sm text-muted-foreground",r),...t})});Z.displayName=I.dk.displayName;let K={name:"Golden Store",whatsappNumber:"6281234567890",social:{instagram:"https://instagram.com/yourstore",facebook:"https://facebook.com/yourstore",tiktok:"https://tiktok.com/@yourstore",shopee:"https://shopee.co.id/yourstore",whatsapp:"https://wa.me/6281234567890"}};function V(e){try{return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(e)}catch(a){return"Rp ".concat(e.toLocaleString("id-ID"))}}var J=r(3245);let Y=function(){{let e=window.__APP_API_BASE_URL__||window.VITE_API_BASE_URL;if(e&&e.length>0)return e}return"http://localhost:4000"}();var X=r(3011);let $="golden-store-auth",Q=(0,X.U)(e=>({token:null,user:null,isHydrated:!1,login:a=>{let{token:r,user:t}=a;try{window.localStorage.setItem($,JSON.stringify({token:r,user:t}))}catch(e){console.warn("Failed to persist auth token:",e)}e({token:r,user:t})},logout:()=>{try{window.localStorage.removeItem($)}catch(e){console.warn("Failed to clear auth token:",e)}e({token:null,user:null})},hydrate:()=>{try{let a=window.localStorage.getItem($);if(a){let r=JSON.parse(a);if((null==r?void 0:r.token)&&(null==r?void 0:r.user)){e({token:r.token,user:r.user,isHydrated:!0});return}}}catch(e){console.warn("Failed to load auth token:",e)}e({token:null,user:null,isHydrated:!0})}}));class ee extends Error{constructor(e,a){super(e),this.name="ApiError",this.status=a}}async function ea(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Q.getState().token,t=new Headers(a.headers);!t.has("Content-Type")&&a.body&&t.set("Content-Type","application/json"),r&&t.set("Authorization","Bearer ".concat(r));let s=await fetch("".concat(Y).concat(e),{...a,headers:t});if(!s.ok){let e=s.statusText||"Request failed";try{let a=await s.json();(null==a?void 0:a.message)&&(e=a.message)}catch(e){}throw new ee(e,s.status)}if(204!==s.status)return await s.json()}async function er(e){return await ea("/api/auth/login",{method:"POST",body:JSON.stringify(e)})}async function et(){return await ea("/api/products",{method:"GET"})}async function es(e){return await ea("/api/products/".concat(e),{method:"GET"})}async function el(e){return await ea("/api/products",{method:"POST",body:JSON.stringify(e)})}async function en(e,a){return await ea("/api/products/".concat(e),{method:"PUT",body:JSON.stringify(a)})}async function ei(e){await ea("/api/products/".concat(e),{method:"DELETE"})}async function eo(){return await ea("/api/store/settings",{method:"GET"})}async function ed(e){let a=e.navigation?e.navigation.map((e,a)=>({id:e.id,label:e.label,url:e.url,isExternal:!!e.isExternal,order:a})):void 0;return await ea("/api/store/settings",{method:"PUT",body:JSON.stringify({...e,navigation:a})})}async function ec(){return await ea("/api/admin/me",{method:"GET"})}async function em(e){return await ea("/api/admin/me",{method:"PUT",body:JSON.stringify(e)})}let eu=[{id:"default-0",label:"Home",url:"#home",order:0,isExternal:!1},{id:"default-1",label:"Produk",url:"#produk",order:1,isExternal:!1},{id:"default-2",label:"Shopee",url:null!==(t=K.social.shopee)&&void 0!==t?t:"#",order:2,isExternal:!0}],eh={id:null,key:"default",storeName:K.name,logoUrl:"https://pub-cdn.sider.ai/u/U0W8H7R4X2W/web-coder/68d4014e6cd86d3975e3c196/resource/55a4522f-969b-4e9f-b5a4-8f67ffc837e4.jpg",heroHeadline:"Koleksi Aksesoris dengan Desain Sticker yang menarik",heroTagline:"untuk Gaya Sehari-hari",heroDescription:"Temukan aksesoris pilihan dari Golden Store. Desain menarik, kualitas terjamin, dan harga bersahabat, cocok untuk hadiah maupun koleksi pribadi.",heroImage:"https://i.imghippo.com/files/Cwuh6142fk.jpeg",whatsappNumber:K.whatsappNumber,instagram:K.social.instagram,facebook:K.social.facebook,tiktok:K.social.tiktok,shopee:K.social.shopee,createdAt:void 0,updatedAt:void 0,navigation:eu},ex=n.createContext({settings:eh,loading:!0,error:null,refresh:async()=>{}});function ep(e){let{children:a}=e,[r,t]=n.useState(eh),[l,i]=n.useState(!0),[o,d]=n.useState(null),c=n.useCallback(async()=>{i(!0),d(null);try{var e;let a=await eo();t({...a,navigation:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...e].sort((e,a)=>e.order-a.order)}(null!==(e=a.navigation)&&void 0!==e?e:[])})}catch(e){console.error("Failed to load store settings:",e),d("Gagal memuat pengaturan toko.")}finally{i(!1)}},[]);n.useEffect(()=>{c()},[c]);let m=n.useMemo(()=>({settings:r,loading:l,error:o,refresh:c}),[r,l,o,c]);return(0,s.jsx)(ex.Provider,{value:m,children:a})}function eb(){return n.useContext(ex)}function eg(e){let{src:a,alt:r}=e;return(0,s.jsx)("div",{className:"overflow-hidden rounded-lg border border-amber-200/50 dark:border-amber-300/20",children:(0,s.jsx)("img",{src:a,alt:r,className:"h-48 w-full object-cover transition-transform duration-500 hover:scale-105"})})}var ef=function(e){var a,r;let{product:t}=e,{settings:l}=eb(),{name:n,price:i,description:o,image:d,tags:c,shopeeUrl:m,whatsappNumber:u}=t,h=null!==(a=l.storeName)&&void 0!==a?a:K.name,x=null!==(r=l.whatsappNumber)&&void 0!==r?r:K.whatsappNumber,p=function(e){var a;let r=(null!==(a=e.number)&&void 0!==a?a:K.whatsappNumber).trim(),{productName:t,price:s,productUrl:l,storeName:n}=e,i=(null==n?void 0:n.trim().length)?n.trim():K.name,o=encodeURIComponent(["Halo admin ".concat(i,", saya ingin menanyakan ketersediaan produk:"),"- Produk: ".concat(t),s?"- Harga: ".concat(V(s)):void 0,l?"- Link: ".concat(l):void 0,"","Mohon info stok dan cara pemesanan. Terima kasih!"].filter(Boolean).join("\n"));return"https://wa.me/".concat(r,"?text=").concat(o)}({number:null!=u?u:x,productName:n,price:i,productUrl:m,storeName:h});return(0,s.jsxs)(D,{className:"group relative overflow-hidden border-amber-200/60 shadow-sm transition hover:shadow-md dark:border-amber-300/20",children:[(0,s.jsxs)(F,{className:"space-y-2",children:[(0,s.jsx)(eg,{src:d,alt:n}),(0,s.jsx)(H,{className:"line-clamp-1 bg-gradient-to-r from-amber-600 to-yellow-500 bg-clip-text text-xl font-semibold text-transparent dark:from-amber-300 dark:to-yellow-200",children:n})]}),(0,s.jsxs)(P,{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-lg font-medium text-amber-700 dark:text-amber-300",children:V(i)}),(0,s.jsx)("p",{className:"line-clamp-2 text-sm text-neutral-600 dark:text-neutral-300",children:o}),c&&c.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(e=>(0,s.jsx)(_,{variant:"secondary",className:"border border-amber-300/40 bg-amber-50 text-amber-800 dark:border-amber-300/20 dark:bg-amber-900/20 dark:text-amber-200",children:e},e))})]}),(0,s.jsxs)(R,{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,s.jsxs)(G,{children:[(0,s.jsx)(W,{asChild:!0,children:(0,s.jsxs)(b,{variant:"outline",className:"border-amber-300 text-amber-800 hover:bg-amber-50 dark:border-amber-300/40 dark:text-amber-200 dark:hover:bg-amber-900/20",children:[(0,s.jsx)(J.Z,{className:"mr-2 h-4 w-4"}),"Detail"]})}),(0,s.jsxs)(M,{className:"sm:max-w-2xl",children:[(0,s.jsxs)(q,{children:[(0,s.jsx)(O,{className:"bg-gradient-to-r from-amber-600 to-yellow-500 bg-clip-text text-transparent dark:from-amber-300 dark:to-yellow-200",children:n}),(0,s.jsxs)(Z,{children:[h," â€” produk pilihan dengan kualitas terbaik."]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsx)("div",{className:"overflow-hidden rounded-lg border border-amber-200/50 dark:border-amber-300/20",children:(0,s.jsx)("img",{src:d,alt:n,className:"h-full w-full object-cover"})}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Harga"}),(0,s.jsx)("p",{className:"text-xl font-semibold text-amber-700 dark:text-amber-300",children:V(i)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Deskripsi"}),(0,s.jsx)("p",{className:"text-sm leading-relaxed text-neutral-700 dark:text-neutral-200",children:o})]}),c&&c.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(e=>(0,s.jsx)(_,{variant:"secondary",className:"border border-amber-300/40 bg-amber-50 text-amber-800 dark:border-amber-300/20 dark:bg-amber-900/20 dark:text-amber-200",children:e},e))}),(0,s.jsxs)("div",{className:"grid gap-2 pt-1",children:[(0,s.jsx)("a",{href:m,target:"_blank",rel:"noreferrer",children:(0,s.jsxs)(b,{variant:"outline",className:"w-full border-amber-200 text-amber-700 hover:border-amber-300 hover:text-amber-800 dark:border-amber-300/40 dark:text-amber-200 dark:hover:border-amber-200",children:[(0,s.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),"Lihat di Shopee"]})}),(0,s.jsx)("a",{href:p,target:"_blank",rel:"noreferrer",children:(0,s.jsxs)(b,{className:"w-full bg-gradient-to-r from-amber-600 to-yellow-500 text-white hover:from-amber-700 hover:to-yellow-600 dark:from-amber-500 dark:to-yellow-400",children:[(0,s.jsx)(N.Z,{className:"mr-2 h-4 w-4"}),"Beli via WhatsApp"]})})]})]})]})]})]}),(0,s.jsx)("a",{href:m,target:"_blank",rel:"noreferrer",children:(0,s.jsxs)(b,{variant:"outline",className:"border-amber-300 text-amber-800 hover:bg-amber-50 dark:border-amber-300/40 dark:text-amber-200 dark:hover:bg-amber-900/20",children:[(0,s.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),"Shopee"]})}),(0,s.jsx)("a",{href:p,target:"_blank",rel:"noreferrer",children:(0,s.jsxs)(b,{className:"bg-amber-600 text-white hover:bg-amber-700 dark:bg-amber-500 dark:hover:bg-amber-600",children:[(0,s.jsx)(N.Z,{className:"mr-2 h-4 w-4"}),"WhatsApp"]})})]})]})},ek=function(e){let{products:a}=e;return(0,s.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:a.map(e=>(0,s.jsx)(ef,{product:e},e.id))})};function ej(){var e,a,r,t,l,i,o,d,c,m,u;let{settings:h}=eb(),x=null!==(e=h.storeName)&&void 0!==e?e:K.name,p=null!==(a=h.logoUrl)&&void 0!==a?a:"https://pub-cdn.sider.ai/u/U0W8H7R4X2W/web-coder/68d4014e6cd86d3975e3c196/resource/55a4522f-969b-4e9f-b5a4-8f67ffc837e4.jpg",f=null!==(r=h.heroHeadline)&&void 0!==r?r:"Koleksi Aksesoris dengan Desain Sticker yang menarik",k=null!==(t=h.heroTagline)&&void 0!==t?t:"untuk Gaya Sehari-hari",j=null!==(l=h.heroDescription)&&void 0!==l?l:"Temukan aksesoris pilihan dari ".concat(x,". Desain menarik, kualitas terjamin, dan harga bersahabat, cocok untuk hadiah maupun koleksi pribadi."),v=null!==(i=h.heroImage)&&void 0!==i?i:"https://i.imghippo.com/files/Cwuh6142fk.jpeg",N=null!==(o=h.navigation)&&void 0!==o?o:[],y={instagram:null!==(d=h.instagram)&&void 0!==d?d:K.social.instagram,facebook:null!==(c=h.facebook)&&void 0!==c?c:K.social.facebook,tiktok:null!==(m=h.tiktok)&&void 0!==m?m:K.social.tiktok,shopee:null!==(u=h.shopee)&&void 0!==u?u:K.social.shopee,whatsapp:h.whatsappNumber?"https://wa.me/".concat(h.whatsappNumber):K.social.whatsapp},[w,S]=n.useState([]),[C,T]=n.useState(!0),[E,D]=n.useState(null),F=n.useCallback(async()=>{T(!0),D(null);try{let e=(await et()).map(e=>({...e,tags:Array.isArray(e.tags)?e.tags:[]}));S(e)}catch(e){console.error("Gagal memuat produk:",e),D("Gagal memuat data produk. Silakan coba lagi.")}finally{T(!1)}},[]);n.useEffect(()=>{F()},[F]);let H=n.useMemo(()=>{let e=new Set;return w.forEach(a=>{var r;null===(r=a.tags)||void 0===r||r.forEach(a=>e.add(a))}),Array.from(e)},[w]),[P,R]=n.useState(null),A=n.useMemo(()=>P?w.filter(e=>{var a;return null===(a=e.tags)||void 0===a?void 0:a.includes(P)}):w,[w,P]),_=n.useCallback(()=>{F()},[F]);return(0,s.jsxs)("div",{id:"home",className:"flex min-h-screen flex-col",children:[(0,s.jsxs)("header",{className:"sticky top-0 z-20 border-b border-amber-200/50 bg-white/75 backdrop-blur-md dark:border-amber-300/20 dark:bg-neutral-950/60",children:[(0,s.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-col gap-4 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-9 w-9 overflow-hidden rounded-full ring-2 ring-amber-400/70",children:(0,s.jsx)("img",{src:p,alt:"".concat(x," Logo"),className:"h-full w-full object-cover"})}),(0,s.jsx)("span",{className:"bg-gradient-to-r from-amber-600 to-yellow-500 bg-clip-text text-lg font-bold uppercase tracking-wide text-transparent dark:from-amber-300 dark:to-yellow-200",children:x})]}),N.length>0&&(0,s.jsx)("nav",{className:"hidden items-center gap-4 text-sm font-medium text-neutral-700 dark:text-neutral-200 sm:flex",children:N.map(e=>{var a;let r="desktop-".concat(null!==(a=e.id)&&void 0!==a?a:e.label);return(0,s.jsx)("a",{href:e.url,target:e.isExternal?"_blank":void 0,rel:e.isExternal?"noreferrer":void 0,className:"rounded-md px-2 py-1 transition hover:text-amber-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-amber-500 focus-visible:ring-offset-2",children:e.label},r)})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(U,{instagram:y.instagram,facebook:y.facebook,tiktok:y.tiktok,shopee:y.shopee,whatsapp:y.whatsapp,className:"hidden sm:flex"}),(0,s.jsx)(g,{})]})]}),N.length>0&&(0,s.jsx)("div",{className:"mx-auto block max-w-6xl px-4 pb-3 sm:hidden",children:(0,s.jsx)("nav",{className:"flex gap-4 overflow-x-auto text-sm font-medium text-neutral-700 dark:text-neutral-200",children:N.map(e=>{var a;let r="mobile-".concat(null!==(a=e.id)&&void 0!==a?a:e.label);return(0,s.jsx)("a",{href:e.url,target:e.isExternal?"_blank":void 0,rel:e.isExternal?"noreferrer":void 0,className:"rounded-md px-2 py-1 transition hover:text-amber-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-amber-500 focus-visible:ring-offset-2",children:e.label},r)})})})]}),(0,s.jsx)("section",{className:"border-b border-amber-200/50 bg-gradient-to-b from-amber-50 via-white to-white py-10 dark:border-amber-300/20 dark:from-amber-950/30 dark:via-neutral-950 dark:to-neutral-950",children:(0,s.jsx)("div",{className:"mx-auto max-w-6xl px-4",children:(0,s.jsxs)("div",{className:"grid items-center gap-8 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h1",{className:"text-3xl font-extrabold leading-tight sm:text-4xl",children:[(0,s.jsx)("span",{className:"bg-gradient-to-r from-amber-700 to-yellow-600 bg-clip-text text-transparent dark:from-amber-300 dark:to-yellow-200",children:f})," ",k]}),(0,s.jsx)("p",{className:"max-w-prose text-neutral-600 dark:text-neutral-300",children:j}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsx)(U,{instagram:y.instagram,facebook:y.facebook,tiktok:y.tiktok,shopee:y.shopee,whatsapp:y.whatsapp})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute -inset-4 -z-10 rounded-3xl bg-gradient-to-r from-amber-300/30 to-yellow-200/20 blur-xl dark:from-amber-500/20 dark:to-yellow-300/10"}),(0,s.jsx)("div",{className:"overflow-hidden rounded-3xl border border-amber-200/70 shadow-lg dark:border-amber-300/20",children:(0,s.jsx)("img",{src:v,alt:"".concat(x," Showcase"),className:"h-64 w-full object-cover sm:h-80"})})]})]})})}),(0,s.jsx)("main",{id:"produk",className:"flex-1 py-10",children:(0,s.jsxs)("div",{className:"mx-auto max-w-6xl px-4",children:[(0,s.jsxs)("div",{className:"mb-8 space-y-4",children:[(0,s.jsx)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:(0,s.jsx)("span",{className:"bg-gradient-to-r from-amber-700 to-yellow-600 bg-clip-text text-transparent dark:from-amber-300 dark:to-yellow-200",children:"Produk Pilihan"})}),(0,s.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:'Klik "Detail" untuk melihat deskripsi, atau langsung "WhatsApp" untuk tanya stok.'})]})}),H.length>0&&(0,s.jsx)("nav",{className:"-mx-1 overflow-x-auto",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 px-1",children:[(0,s.jsx)(b,{variant:null===P?"default":"outline",size:"sm",onClick:()=>R(null),className:"whitespace-nowrap bg-amber-600 text-white hover:bg-amber-700 dark:bg-amber-500 dark:text-neutral-900 dark:hover:bg-amber-400",children:"Semua"}),H.map(e=>{let a=P===e;return(0,s.jsx)(b,{variant:a?"default":"outline",size:"sm",onClick:()=>R(e),className:a?"whitespace-nowrap bg-amber-600 text-white hover:bg-amber-700 dark:bg-amber-500 dark:text-neutral-900 dark:hover:bg-amber-400":"whitespace-nowrap border-amber-200 text-amber-700 hover:border-amber-300 hover:text-amber-800 dark:border-amber-300/40 dark:text-amber-200 dark:hover:border-amber-200",children:e},e)})]})})]}),C?(0,s.jsx)("p",{className:"rounded-lg border border-amber-200/60 bg-white/70 p-6 text-center text-sm text-neutral-600 dark:border-amber-300/30 dark:bg-neutral-900/40 dark:text-neutral-200",children:"Memuat produk..."}):E?(0,s.jsxs)("div",{className:"space-y-4 rounded-lg border border-red-200/60 bg-red-50/60 p-6 text-center text-sm text-red-700 dark:border-red-400/30 dark:bg-red-900/10 dark:text-red-200",children:[(0,s.jsx)("p",{children:E}),(0,s.jsx)(b,{variant:"outline",size:"sm",onClick:_,className:"border-amber-300 text-amber-700 hover:bg-amber-50 dark:border-amber-300/40 dark:text-amber-200 dark:hover:bg-amber-900/20",children:"Coba lagi"})]}):A.length>0?(0,s.jsx)(ek,{products:A}):(0,s.jsxs)("p",{className:"rounded-lg border border-dashed border-amber-300/60 bg-amber-50/50 p-6 text-center text-sm text-amber-700 dark:border-amber-300/30 dark:bg-amber-900/10 dark:text-amber-200",children:["Belum ada produk",P?' dengan tag "'.concat(P,'"'):""," untuk ditampilkan saat ini."]})]})}),(0,s.jsx)("footer",{className:"border-t border-amber-200/50 py-8 dark:border-amber-300/20",children:(0,s.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-col items-center justify-between gap-4 px-4 sm:flex-row",children:[(0,s.jsxs)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["\xa9 ",new Date().getFullYear()," ",x,". All rights reserved."]}),(0,s.jsx)(U,{instagram:y.instagram,facebook:y.facebook,tiktok:y.tiktok,shopee:y.shopee,whatsapp:y.whatsapp})]})})]})}var ev=r(6394);let eN=(0,m.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ey=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(ev.f,{ref:a,className:x(eN(),r),...t})});ey.displayName=ev.f.displayName;let ew=n.forwardRef((e,a)=>{let{className:r,type:t,...l}=e;return(0,s.jsx)("input",{type:t,className:x("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:a,...l})});function eS(){let e=(0,l.s0)(),a=Q(e=>e.token),r=Q(e=>e.isHydrated),t=Q(e=>e.hydrate),i=Q(e=>e.login),[o,d]=n.useState(""),[c,m]=n.useState(""),[u,h]=n.useState(null),[x,p]=n.useState(!1);n.useEffect(()=>{r||t()},[t,r]);let g=async a=>{a.preventDefault(),p(!0),h(null);try{let a=await er({username:o,password:c});i(a),e("/admin/products",{replace:!0})}catch(e){e instanceof ee?h(e.message):h("Terjadi kesalahan. Silakan coba lagi.")}finally{p(!1)}};return r&&a?(0,s.jsx)(l.Fg,{to:"/admin/products",replace:!0}):(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-neutral-100 px-4 py-10 dark:bg-neutral-950",children:(0,s.jsxs)(D,{className:"w-full max-w-sm border-amber-200/60 shadow-lg dark:border-amber-300/20",children:[(0,s.jsx)(F,{children:(0,s.jsx)(H,{className:"text-center text-2xl font-semibold text-amber-700 dark:text-amber-300",children:"Admin Golden Store"})}),(0,s.jsx)(P,{children:(0,s.jsxs)("form",{className:"space-y-4",onSubmit:g,children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"username",children:"Username"}),(0,s.jsx)(ew,{id:"username",type:"text",autoComplete:"username",required:!0,value:o,onChange:e=>d(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"password",children:"Password"}),(0,s.jsx)(ew,{id:"password",type:"password",autoComplete:"current-password",required:!0,value:c,onChange:e=>m(e.target.value)})]}),u&&(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:u}),(0,s.jsx)(b,{type:"submit",className:"w-full bg-gradient-to-r from-amber-600 to-yellow-500 text-white hover:from-amber-700 hover:to-yellow-600 dark:from-amber-500 dark:to-yellow-400",disabled:x,children:x?"Masuk...":"Masuk"})]})})]})})}ew.displayName="Input";let eC=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:a,className:x("w-full caption-bottom text-sm",r),...t})})});eC.displayName="Table";let eT=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("thead",{ref:a,className:x("[&_tr]:border-b",r),...t})});eT.displayName="TableHeader";let eE=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("tbody",{ref:a,className:x("[&_tr:last-child]:border-0",r),...t})});eE.displayName="TableBody",n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("tfoot",{ref:a,className:x("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...t})}).displayName="TableFooter";let eU=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("tr",{ref:a,className:x("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...t})});eU.displayName="TableRow";let eD=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("th",{ref:a,className:x("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...t})});eD.displayName="TableHead";let eF=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("td",{ref:a,className:x("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...t})});eF.displayName="TableCell",n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("caption",{ref:a,className:x("mt-4 text-sm text-muted-foreground",r),...t})}).displayName="TableCaption";let eH=[{to:"/admin/products",label:"Produk"},{to:"/admin/store-settings",label:"Pengaturan Toko"},{to:"/admin/profile",label:"Profil Admin"}];var eP=function(e){let{title:a,description:r,actions:t,children:i}=e,o=(0,l.s0)(),d=Q(e=>e.logout),c=n.useCallback(()=>{d(),o("/admin/login",{replace:!0})},[d,o]);return(0,s.jsx)("div",{className:"min-h-screen bg-neutral-100 px-4 py-8 dark:bg-neutral-950",children:(0,s.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-col gap-6",children:[(0,s.jsxs)("header",{className:"rounded-lg border border-amber-200/60 bg-white px-6 py-5 shadow-sm dark:border-amber-300/20 dark:bg-neutral-900",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-amber-700 dark:text-amber-300",children:a}),r&&(0,s.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:r})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[t,(0,s.jsx)(b,{variant:"outline",onClick:c,children:"Keluar"})]})]}),(0,s.jsx)("nav",{className:"mt-4 flex flex-wrap gap-3 text-sm font-medium text-neutral-600 dark:text-neutral-300",children:eH.map(e=>(0,s.jsx)(l.OL,{to:e.to,className:e=>{let{isActive:a}=e;return["rounded-md px-3 py-1 transition",a?"bg-amber-600 text-white shadow-sm dark:bg-amber-500 dark:text-neutral-900":"hover:text-amber-700 dark:hover:text-amber-200"].join(" ")},children:e.label},e.to))})]}),i]})})};function eR(){let e=(0,l.s0)(),a=Q(e=>e.token),r=Q(e=>e.isHydrated),t=Q(e=>e.hydrate),i=Q(e=>e.logout),[o,d]=n.useState([]),[c,m]=n.useState(!0),[u,h]=n.useState(null),[x,p]=n.useState(null);n.useEffect(()=>{r||t()},[t,r]);let g=n.useCallback(async()=>{m(!0),h(null);try{let e=await et();d(e)}catch(a){if(console.error("Gagal mengambil produk:",a),a instanceof ee&&401===a.status){i(),e("/admin/login",{replace:!0});return}h(a instanceof ee&&a.message?a.message:"Tidak dapat memuat data produk. Pastikan Anda sudah login dan server berjalan.")}finally{m(!1)}},[i,e]);n.useEffect(()=>{if(r){if(!a){e("/admin/login",{replace:!0});return}g()}},[r,a,g,e]);let f=async a=>{if(window.confirm("Hapus produk ini?")){p(a);try{await ei(a),d(e=>e.filter(e=>e.id!==a))}catch(a){if(console.error("Gagal menghapus produk:",a),a instanceof ee&&401===a.status){i(),e("/admin/login",{replace:!0});return}alert(a instanceof ee&&a.message?a.message:"Gagal menghapus produk. Silakan coba lagi.")}finally{p(null)}}};return(0,s.jsx)(eP,{title:"Dashboard Produk",description:"Kelola katalog Golden Store: tambah, ubah, dan hapus produk.",actions:(0,s.jsx)(b,{onClick:()=>e("/admin/products/new"),className:"bg-amber-600 text-white hover:bg-amber-700 dark:bg-amber-500 dark:hover:bg-amber-600",children:"+ Produk Baru"}),children:(0,s.jsxs)(D,{className:"border-amber-200/60 dark:border-amber-300/20",children:[(0,s.jsx)(F,{children:(0,s.jsx)(H,{children:"Daftar Produk"})}),(0,s.jsx)(P,{children:c?(0,s.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Memuat produk..."}):u?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:u}),(0,s.jsx)(b,{size:"sm",variant:"outline",onClick:()=>g(),children:"Coba lagi"})]}):0===o.length?(0,s.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Belum ada produk."}):(0,s.jsxs)(eC,{children:[(0,s.jsx)(eT,{children:(0,s.jsxs)(eU,{children:[(0,s.jsx)(eD,{children:"Nama"}),(0,s.jsx)(eD,{children:"Harga"}),(0,s.jsx)(eD,{children:"Shopee"}),(0,s.jsx)(eD,{children:"Tags"}),(0,s.jsx)(eD,{className:"text-right",children:"Aksi"})]})}),(0,s.jsx)(eE,{children:o.map(e=>{var a,r;return(0,s.jsxs)(eU,{children:[(0,s.jsx)(eF,{className:"font-medium",children:e.name}),(0,s.jsxs)(eF,{children:["Rp ",e.price.toLocaleString("id-ID")]}),(0,s.jsx)(eF,{children:(0,s.jsx)("a",{href:e.shopeeUrl,target:"_blank",rel:"noreferrer",className:"text-amber-600 underline hover:text-amber-700 dark:text-amber-300",children:"Link"})}),(0,s.jsx)(eF,{children:null!==(r=null===(a=e.tags)||void 0===a?void 0:a.join(", "))&&void 0!==r?r:"-"}),(0,s.jsxs)(eF,{className:"flex justify-end gap-2",children:[(0,s.jsx)(b,{size:"sm",variant:"outline",asChild:!0,children:(0,s.jsx)(l.rU,{to:"/admin/products/".concat(e.id,"/edit"),children:"Ubah"})}),(0,s.jsx)(b,{size:"sm",variant:"destructive",onClick:()=>f(e.id),disabled:x===e.id,children:x===e.id?"Menghapus...":"Hapus"})]})]},e.id)})})]})})]})})}let eA=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)("textarea",{className:x("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:a,...t})});function e_(e){var a,r,t,s,l,n,i,o;return{name:null!==(r=null==e?void 0:e.name)&&void 0!==r?r:"",price:(null==e?void 0:e.price)!=null?String(e.price):"",image:null!==(t=null==e?void 0:e.image)&&void 0!==t?t:"",description:null!==(s=null==e?void 0:e.description)&&void 0!==s?s:"",shopeeUrl:null!==(l=null==e?void 0:e.shopeeUrl)&&void 0!==l?l:"",whatsappNumber:null!==(n=null==e?void 0:e.whatsappNumber)&&void 0!==n?n:"",tagsText:null!==(i=null==e?void 0:null===(a=e.tags)||void 0===a?void 0:a.join(", "))&&void 0!==i?i:"",slug:null!==(o=null==e?void 0:e.slug)&&void 0!==o?o:""}}eA.displayName="Textarea";var eI=function(e){let{initialValues:a,loading:r=!1,onSubmit:t}=e,[l,i]=n.useState(()=>e_(a)),[o,d]=n.useState(null);n.useEffect(()=>{i(e_(a))},[a]);let c=e=>a=>{let{value:r}=a.target;i(a=>({...a,[e]:r}))},m=async e=>{e.preventDefault(),d(null);let a=Number(l.price);if(!Number.isFinite(a)||a<0){d("Harga harus berupa angka positif.");return}let r=l.tagsText.split(",").map(e=>e.trim()).filter(Boolean);try{await t({name:l.name.trim(),price:Math.round(a),image:l.image.trim(),description:l.description.trim(),shopeeUrl:l.shopeeUrl.trim(),whatsappNumber:l.whatsappNumber.trim()||void 0,tags:r,slug:l.slug.trim()||void 0})}catch(e){console.error("Submit product error:",e),e instanceof Error&&e.message?d(e.message):d("Gagal menyimpan produk. Silakan coba lagi.")}};return(0,s.jsxs)("form",{className:"space-y-6",onSubmit:m,children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"name",children:"Nama Produk"}),(0,s.jsx)(ew,{id:"name",value:l.name,onChange:c("name"),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"price",children:"Harga (Rp)"}),(0,s.jsx)(ew,{id:"price",type:"number",min:"0",step:"1",value:l.price,onChange:c("price"),required:!0})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"image",children:"URL Gambar"}),(0,s.jsx)(ew,{id:"image",type:"url",value:l.image,onChange:c("image"),placeholder:"https://...",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"shopeeUrl",children:"URL Shopee"}),(0,s.jsx)(ew,{id:"shopeeUrl",type:"url",value:l.shopeeUrl,onChange:c("shopeeUrl"),placeholder:"https://shopee.co.id/...",required:!0})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"whatsappNumber",children:"Nomor WhatsApp (opsional)"}),(0,s.jsx)(ew,{id:"whatsappNumber",value:l.whatsappNumber,onChange:c("whatsappNumber"),placeholder:"628xxxxxxxxx"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"slug",children:"Slug (opsional)"}),(0,s.jsx)(ew,{id:"slug",value:l.slug,onChange:c("slug"),placeholder:"cincin-aurora"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"tags",children:"Tags (pisahkan dengan koma)"}),(0,s.jsx)(ew,{id:"tags",value:l.tagsText,onChange:c("tagsText"),placeholder:"Best Seller, Cincin"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"description",children:"Deskripsi"}),(0,s.jsx)(eA,{id:"description",value:l.description,onChange:c("description"),rows:4,required:!0})]}),o&&(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:o}),(0,s.jsx)("div",{className:"flex justify-end gap-2",children:(0,s.jsx)(b,{type:"submit",disabled:r,className:"bg-amber-600 text-white hover:bg-amber-700 dark:bg-amber-500 dark:hover:bg-amber-600",children:r?"Menyimpan...":"Simpan"})})]})};function ez(){let e=(0,l.s0)(),{id:a}=(0,l.UO)(),r=!!a,t=Q(e=>e.token),i=Q(e=>e.isHydrated),o=Q(e=>e.hydrate),d=Q(e=>e.logout),[c,m]=n.useState(void 0),[u,h]=n.useState(!1),[x,p]=n.useState(r),[g,f]=n.useState(null);n.useEffect(()=>{i||o()},[o,i]),n.useEffect(()=>{if(i){if(!t){e("/admin/login",{replace:!0});return}r&&a&&(async()=>{try{var r,t;f(null),p(!0);let e=await es(a);m({name:e.name,price:e.price,image:e.image,description:e.description,shopeeUrl:e.shopeeUrl,whatsappNumber:null!==(r=e.whatsappNumber)&&void 0!==r?r:void 0,tags:null!==(t=e.tags)&&void 0!==t?t:[],slug:e.slug})}catch(a){if(console.error("Gagal memuat produk:",a),a instanceof ee&&401===a.status){d(),e("/admin/login",{replace:!0});return}f("Produk tidak ditemukan atau gagal dimuat.")}finally{p(!1)}})()}},[a,r,i,t,e,d]);let k=async t=>{h(!0),f(null);try{r&&a?await en(a,t):await el(t),e("/admin/products",{replace:!0})}catch(a){if(console.error("Simpan produk gagal:",a),a instanceof ee){if(401===a.status){d(),e("/admin/login",{replace:!0});return}if(a.message)throw Error(a.message)}throw a}finally{h(!1)}};return r&&x?(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-neutral-100 dark:bg-neutral-950",children:(0,s.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Memuat data produk..."})}):g?(0,s.jsxs)("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-neutral-100 px-4 text-center dark:bg-neutral-950",children:[(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:g}),(0,s.jsx)("button",{onClick:()=>e("/admin/products"),className:"rounded-md border border-amber-300 px-4 py-2 text-sm text-amber-700 hover:bg-amber-50 dark:border-amber-200/40 dark:text-amber-200 dark:hover:bg-amber-900/20",children:"Kembali ke daftar produk"})]}):(0,s.jsx)(eP,{title:r?"Edit Produk":"Produk Baru",description:r?"Ubah informasi produk agar tetap up to date.":"Tambahkan produk baru ke dalam katalog Golden Store.",actions:(0,s.jsx)(b,{variant:"outline",onClick:()=>e("/admin/products"),children:"Kembali"}),children:(0,s.jsxs)(D,{className:"border-amber-200/60 dark:border-amber-300/20",children:[(0,s.jsx)(F,{children:(0,s.jsx)(H,{children:r?"Edit Produk":"Produk Baru"})}),(0,s.jsxs)(P,{children:[(0,s.jsx)(eI,{initialValues:c,loading:u,onSubmit:k}),(0,s.jsx)("div",{className:"mt-4 text-right",children:(0,s.jsx)("button",{type:"button",onClick:()=>e("/admin/products"),className:"text-sm text-neutral-600 underline hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100",children:"Batalkan"})})]})]})})}var eG=r(1027),eW=r(401);let eB=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(eG.fC,{ref:a,className:x("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...t,children:(0,s.jsx)(eG.z$,{className:x("flex items-center justify-center text-current"),children:(0,s.jsx)(eW.Z,{className:"h-4 w-4"})})})});function eL(e){return"undefined"!=typeof crypto&&"randomUUID"in crypto?"".concat(e,"-").concat(crypto.randomUUID()):"".concat(e,"-").concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,8))}function eM(e){var a,r,t,s,l,n,i,o,d,c,m;return{storeName:null!==(a=e.storeName)&&void 0!==a?a:"",logoUrl:null!==(r=e.logoUrl)&&void 0!==r?r:"",heroHeadline:null!==(t=e.heroHeadline)&&void 0!==t?t:"",heroTagline:null!==(s=e.heroTagline)&&void 0!==s?s:"",heroDescription:null!==(l=e.heroDescription)&&void 0!==l?l:"",heroImage:null!==(n=e.heroImage)&&void 0!==n?n:"",whatsappNumber:null!==(i=e.whatsappNumber)&&void 0!==i?i:"",instagram:null!==(o=e.instagram)&&void 0!==o?o:"",facebook:null!==(d=e.facebook)&&void 0!==d?d:"",tiktok:null!==(c=e.tiktok)&&void 0!==c?c:"",shopee:null!==(m=e.shopee)&&void 0!==m?m:""}}function eq(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((e,a)=>{var r,t,s;return{id:e.id,key:null!==(r=e.id)&&void 0!==r?r:eL("nav-".concat(a)),label:null!==(t=e.label)&&void 0!==t?t:"",url:null!==(s=e.url)&&void 0!==s?s:"",isExternal:!!e.isExternal}})}eB.displayName=eG.fC.displayName;var eO=function(){let e=(0,l.s0)(),{settings:a,refresh:r}=eb(),t=Q(e=>e.token),i=Q(e=>e.isHydrated),o=Q(e=>e.hydrate),d=Q(e=>e.logout),[c,m]=n.useState(()=>eM(a)),[u,h]=n.useState(()=>eq(a.navigation)),[x,p]=n.useState(!1),[g,f]=n.useState(null),[k,j]=n.useState(null);n.useEffect(()=>{i||o()},[o,i]),n.useEffect(()=>{i&&!t&&e("/admin/login",{replace:!0})},[i,t,e]),n.useEffect(()=>{m(eM(a)),h(eq(a.navigation))},[a]);let v=e=>a=>{let{value:r}=a.target;m(a=>({...a,[e]:r}))},N=(e,a)=>{h(r=>r.map(r=>r.key===e?{...r,...a}:r))},y=e=>{h(a=>a.filter(a=>a.key!==e))},w=(e,a)=>{h(r=>{let t=e+a;if(t<0||t>=r.length)return r;let s=[...r],[l]=s.splice(e,1);return s.splice(t,0,l),s})},S=async a=>{a.preventDefault(),f(null),j(null);let t=Object.fromEntries(Object.entries(c).map(e=>{let[a,r]=e;return[a,"string"==typeof r?r.trim():r]}));if(!t.storeName){f("Nama toko wajib diisi.");return}if(!t.heroHeadline||!t.heroTagline||!t.heroDescription||!t.heroImage){f("Kolom hero (headline, tagline, deskripsi, dan gambar) wajib diisi.");return}let s=u.map(e=>({id:e.id,label:e.label.trim(),url:e.url.trim(),isExternal:e.isExternal}));if(s.find(e=>!e.label||!e.url)){f("Setiap menu navigasi wajib memiliki label dan tautan.");return}p(!0);try{let e=await ed({storeName:t.storeName,logoUrl:t.logoUrl,heroHeadline:t.heroHeadline,heroTagline:t.heroTagline,heroDescription:t.heroDescription,heroImage:t.heroImage,whatsappNumber:t.whatsappNumber,instagram:t.instagram,facebook:t.facebook,tiktok:t.tiktok,shopee:t.shopee,navigation:s});m(eM(e)),h(eq(e.navigation)),j("Pengaturan toko berhasil disimpan."),await r()}catch(a){if(console.error("Gagal menyimpan pengaturan toko:",a),a instanceof ee&&401===a.status){d(),e("/admin/login",{replace:!0});return}f(a instanceof ee&&a.message?a.message:"Gagal menyimpan pengaturan toko. Silakan coba lagi.")}finally{p(!1)}};return(0,s.jsx)(eP,{title:"Pengaturan Toko",description:"Atur identitas toko, konten hero, dan tautan navigasi yang tampil di landing page.",children:(0,s.jsxs)(D,{className:"border-amber-200/60 dark:border-amber-300/20",children:[(0,s.jsx)(F,{children:(0,s.jsx)(H,{children:"Detail Toko"})}),(0,s.jsx)(P,{children:(0,s.jsxs)("form",{className:"space-y-8",onSubmit:S,children:[(0,s.jsxs)("section",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"storeName",children:"Nama Toko"}),(0,s.jsx)(ew,{id:"storeName",value:c.storeName,onChange:v("storeName"),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"logoUrl",children:"URL Logo"}),(0,s.jsx)(ew,{id:"logoUrl",value:c.logoUrl,onChange:v("logoUrl"),placeholder:"https://..."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"whatsappNumber",children:"Nomor WhatsApp Utama"}),(0,s.jsx)(ew,{id:"whatsappNumber",value:c.whatsappNumber,onChange:v("whatsappNumber"),placeholder:"628xxxxxxxxx"}),(0,s.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:'Digunakan sebagai default link WhatsApp pada tombol "Beli" apabila produk tidak memiliki nomor khusus.'})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"heroImage",children:"URL Gambar Hero"}),(0,s.jsx)(ew,{id:"heroImage",value:c.heroImage,onChange:v("heroImage"),placeholder:"https://...",required:!0})]})]}),(0,s.jsxs)("section",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"heroHeadline",children:"Hero Headline"}),(0,s.jsx)(ew,{id:"heroHeadline",value:c.heroHeadline,onChange:v("heroHeadline"),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"heroTagline",children:"Hero Tagline"}),(0,s.jsx)(ew,{id:"heroTagline",value:c.heroTagline,onChange:v("heroTagline"),required:!0})]}),(0,s.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"heroDescription",children:"Hero Deskripsi"}),(0,s.jsx)(eA,{id:"heroDescription",value:c.heroDescription,onChange:v("heroDescription"),rows:4,required:!0})]})]}),(0,s.jsxs)("section",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"instagram",children:"Instagram"}),(0,s.jsx)(ew,{id:"instagram",value:c.instagram,onChange:v("instagram"),placeholder:"https://instagram.com/..."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"facebook",children:"Facebook"}),(0,s.jsx)(ew,{id:"facebook",value:c.facebook,onChange:v("facebook"),placeholder:"https://facebook.com/..."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"tiktok",children:"TikTok"}),(0,s.jsx)(ew,{id:"tiktok",value:c.tiktok,onChange:v("tiktok"),placeholder:"https://tiktok.com/@..."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"shopee",children:"Shopee"}),(0,s.jsx)(ew,{id:"shopee",value:c.shopee,onChange:v("shopee"),placeholder:"https://shopee.co.id/..."})]})]}),(0,s.jsxs)("section",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-amber-700 dark:text-amber-300",children:"Menu Navigasi"}),(0,s.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Tentukan tautan yang tampil pada navbar di landing page."})]}),(0,s.jsx)(b,{type:"button",variant:"outline",onClick:()=>{h(e=>[...e,{key:eL("nav-new"),label:"",url:"",isExternal:!1}])},children:"+ Tambah Menu"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[0===u.length&&(0,s.jsx)("p",{className:"rounded-md border border-dashed border-amber-300/60 bg-amber-50/60 p-4 text-sm text-amber-700 dark:border-amber-300/30 dark:bg-amber-900/10 dark:text-amber-200",children:"Belum ada menu. Tambahkan item untuk tampil di navbar."}),u.map((e,a)=>(0,s.jsxs)("div",{className:"rounded-lg border border-amber-200/60 bg-white p-4 shadow-sm dark:border-amber-300/20 dark:bg-neutral-900",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-[1fr_1fr_auto]",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"nav-label-".concat(e.key),children:"Label"}),(0,s.jsx)(ew,{id:"nav-label-".concat(e.key),value:e.label,onChange:a=>N(e.key,{label:a.target.value}),placeholder:"Contoh: Produk",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"nav-url-".concat(e.key),children:"URL"}),(0,s.jsx)(ew,{id:"nav-url-".concat(e.key),value:e.url,onChange:a=>N(e.key,{url:a.target.value}),placeholder:"#produk atau https://...",required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 pt-6",children:[(0,s.jsx)(eB,{id:"nav-external-".concat(e.key),checked:e.isExternal,onCheckedChange:a=>N(e.key,{isExternal:!!a})}),(0,s.jsx)(ey,{htmlFor:"nav-external-".concat(e.key),children:"Link eksternal"})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,s.jsx)(b,{type:"button",size:"sm",variant:"outline",onClick:()=>w(a,-1),disabled:0===a,children:"Naik"}),(0,s.jsx)(b,{type:"button",size:"sm",variant:"outline",onClick:()=>w(a,1),disabled:a===u.length-1,children:"Turun"}),(0,s.jsx)(b,{type:"button",size:"sm",variant:"destructive",onClick:()=>y(e.key),children:"Hapus"})]})]},e.key))]})]}),g&&(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:g}),k&&(0,s.jsx)("p",{className:"text-sm text-emerald-600 dark:text-emerald-400",children:k}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(b,{type:"button",variant:"outline",onClick:()=>{m(eM(a)),h(eq(a.navigation)),f(null),j(null)},disabled:x,children:"Reset"}),(0,s.jsx)(b,{type:"submit",disabled:x,className:"bg-amber-600 text-white hover:bg-amber-700 dark:bg-amber-500 dark:hover:bg-amber-600",children:x?"Menyimpan...":"Simpan Pengaturan"})]})]})})]})})},eZ=function(){var e;let a=(0,l.s0)(),r=Q(e=>e.token),t=Q(e=>e.isHydrated),i=Q(e=>e.hydrate),o=Q(e=>e.logout),d=Q(e=>e.user),c=Q(e=>e.login),[m,u]=n.useState(null!==(e=null==d?void 0:d.username)&&void 0!==e?e:""),[h,x]=n.useState(""),[p,g]=n.useState(""),[f,k]=n.useState(!1),[j,v]=n.useState(!1),[N,y]=n.useState(null),[w,S]=n.useState(null);n.useEffect(()=>{t||i()},[i,t]),n.useEffect(()=>{t&&!r&&a("/admin/login",{replace:!0})},[t,r,a]),n.useEffect(()=>{let e=async()=>{if(r){v(!0);try{let e=await ec();u(e.username)}catch(e){console.error("Gagal memuat profil admin:",e),e instanceof ee&&401===e.status&&(o(),a("/admin/login",{replace:!0}))}finally{v(!1)}}};t&&r&&e()},[t,r,o,a]);let C=async e=>{e.preventDefault(),y(null),S(null);let r=m.trim();if(!r){y("Username wajib diisi.");return}if(h!==p){y("Konfirmasi password tidak sesuai.");return}if(h&&h.trim().length<6){y("Password minimal 6 karakter.");return}k(!0);try{let e=await em({username:r,password:h.trim()?h.trim():void 0});c(e),u(e.user.username),x(""),g(""),S("Data akun berhasil diperbarui.")}catch(e){if(console.error("Gagal memperbarui profil admin:",e),e instanceof ee&&401===e.status){o(),a("/admin/login",{replace:!0});return}y(e instanceof ee&&e.message?e.message:"Gagal memperbarui data akun. Silakan coba lagi.")}finally{k(!1)}};return(0,s.jsx)(eP,{title:"Profil Admin",description:"Perbarui username dan password akun admin untuk keamanan.",children:(0,s.jsxs)(D,{className:"max-w-2xl border-amber-200/60 dark:border-amber-300/20",children:[(0,s.jsx)(F,{children:(0,s.jsx)(H,{children:"Informasi Login"})}),(0,s.jsx)(P,{children:(0,s.jsxs)("form",{className:"space-y-6",onSubmit:C,children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"username",children:"Username"}),(0,s.jsx)(ew,{id:"username",value:m,onChange:e=>u(e.target.value),autoComplete:"username",disabled:j,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"password",children:"Password Baru"}),(0,s.jsx)(ew,{id:"password",type:"password",value:h,onChange:e=>x(e.target.value),placeholder:"Kosongkan jika tidak ingin mengganti",autoComplete:"new-password"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ey,{htmlFor:"confirmPassword",children:"Konfirmasi Password"}),(0,s.jsx)(ew,{id:"confirmPassword",type:"password",value:p,onChange:e=>g(e.target.value),autoComplete:"new-password"})]}),N&&(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:N}),w&&(0,s.jsx)("p",{className:"text-sm text-emerald-600 dark:text-emerald-400",children:w}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(b,{type:"submit",disabled:f||j,className:"bg-amber-600 text-white hover:bg-amber-700 dark:bg-amber-500 dark:hover:bg-amber-600",children:f?"Menyimpan...":"Simpan Perubahan"})})]})})]})})};function eK(){return(0,s.jsx)(i.f,{attribute:"class",defaultTheme:"dark",enableSystem:!0,storageKey:"golden-store-theme",children:(0,s.jsx)("div",{className:"min-h-screen bg-white text-neutral-900 transition-colors dark:bg-neutral-950 dark:text-neutral-100",children:(0,s.jsx)(ep,{children:(0,s.jsx)(l.UT,{children:(0,s.jsxs)(l.Z5,{children:[(0,s.jsx)(l.AW,{path:"/",element:(0,s.jsx)(ej,{})}),(0,s.jsx)(l.AW,{path:"/admin/login",element:(0,s.jsx)(eS,{})}),(0,s.jsx)(l.AW,{path:"/admin/products",element:(0,s.jsx)(eR,{})}),(0,s.jsx)(l.AW,{path:"/admin/products/new",element:(0,s.jsx)(ez,{})}),(0,s.jsx)(l.AW,{path:"/admin/products/:id/edit",element:(0,s.jsx)(ez,{})}),(0,s.jsx)(l.AW,{path:"/admin/store-settings",element:(0,s.jsx)(eO,{})}),(0,s.jsx)(l.AW,{path:"/admin/profile",element:(0,s.jsx)(eZ,{})}),(0,s.jsx)(l.AW,{path:"*",element:(0,s.jsx)(l.Fg,{to:"/",replace:!0})})]})})})})})}function eV(){return(0,s.jsx)(eK,{})}}},function(e){e.O(0,[896,771,971,117,744],function(){return e(e.s=100)}),_N_E=e.O()}]);