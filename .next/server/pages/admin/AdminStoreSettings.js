"use strict";(()=>{var e={};e.id=199,e.ids=[199,660],e.modules={1842:(e,a,r)=>{r.a(e,async(e,t)=>{try{r.r(a),r.d(a,{config:()=>g,default:()=>u,getServerSideProps:()=>b,getStaticPaths:()=>x,getStaticProps:()=>p,reportWebVitals:()=>f,routeModule:()=>w,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>k});var s=r(7093),i=r(5244),l=r(1323),n=r(1682),o=r.n(n),d=r(8141),c=r.n(d),m=r(5682),h=e([m]);m=(h.then?(await h)():h)[0];let u=(0,l.l)(m,"default"),p=(0,l.l)(m,"getStaticProps"),x=(0,l.l)(m,"getStaticPaths"),b=(0,l.l)(m,"getServerSideProps"),g=(0,l.l)(m,"config"),f=(0,l.l)(m,"reportWebVitals"),k=(0,l.l)(m,"unstable_getStaticProps"),v=(0,l.l)(m,"unstable_getStaticPaths"),j=(0,l.l)(m,"unstable_getStaticParams"),N=(0,l.l)(m,"unstable_getServerProps"),y=(0,l.l)(m,"unstable_getServerSideProps"),w=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/admin/AdminStoreSettings",pathname:"/admin/AdminStoreSettings",bundlePath:"",filename:""},components:{App:c(),Document:o()},userland:m});t()}catch(e){t(e)}})},906:(e,a,r)=>{r.d(a,{Z:()=>t});let t=(0,r(3592).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},2122:(e,a,r)=>{r.a(e,async(e,t)=>{try{r.d(a,{Z:()=>h});var s=r(997),i=r(6689),l=r.n(i),n=r(3308),o=r(5364),d=r(5861),c=e([o,d]);[o,d]=c.then?(await c)():c;let m=[{to:"/admin/products",label:"Produk"},{to:"/admin/store-settings",label:"Pengaturan Toko"},{to:"/admin/profile",label:"Profil Admin"}],h=function({title:e,description:a,actions:r,children:t}){let i=(0,n.useNavigate)(),c=(0,d.tN)(e=>e.logout),h=l().useCallback(()=>{c(),i("/admin/login",{replace:!0})},[c,i]);return s.jsx("div",{className:"min-h-screen bg-neutral-100 px-4 py-8 dark:bg-neutral-950",children:(0,s.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-col gap-6",children:[(0,s.jsxs)("header",{className:"rounded-lg border border-amber-200/60 bg-white px-6 py-5 shadow-sm dark:border-amber-300/20 dark:bg-neutral-900",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-amber-700 dark:text-amber-300",children:e}),a&&s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:a})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[r,s.jsx(o.z,{variant:"outline",onClick:h,children:"Keluar"})]})]}),s.jsx("nav",{className:"mt-4 flex flex-wrap gap-3 text-sm font-medium text-neutral-600 dark:text-neutral-300",children:m.map(e=>s.jsx(n.NavLink,{to:e.to,className:({isActive:e})=>["rounded-md px-3 py-1 transition",e?"bg-amber-600 text-white shadow-sm dark:bg-amber-500 dark:text-neutral-900":"hover:text-amber-700 dark:hover:text-amber-200"].join(" "),children:e.label},e.to))})]}),t]})})};t()}catch(e){t(e)}})},2698:(e,a,r)=>{r.a(e,async(e,t)=>{try{r.d(a,{X:()=>d});var s=r(997),i=r(6689),l=r(1601),n=r(906);!function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}();var o=e([l]);l=(o.then?(await o)():o)[0];let d=i.forwardRef(({className:e,...a},r)=>s.jsx(l.Root,{ref:r,className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...a,children:s.jsx(l.Indicator,{className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("flex items-center justify-center text-current"),children:s.jsx(n.Z,{className:"h-4 w-4"})})}));d.displayName=l.Root.displayName,t()}catch(e){t(e)}})},7095:(e,a,r)=>{r.d(a,{I:()=>i});var t=r(997),s=r(6689);!function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}();let i=s.forwardRef(({className:e,type:a,...r},s)=>t.jsx("input",{type:a,className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));i.displayName="Input"},7825:(e,a,r)=>{r.a(e,async(e,t)=>{try{r.d(a,{_:()=>c});var s=r(997),i=r(6689),l=r(49),n=r(6926);!function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}();var o=e([l,n]);[l,n]=o.then?(await o)():o;let d=(0,n.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef(({className:e,...a},r)=>s.jsx(l.Root,{ref:r,className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())(d(),e),...a}));c.displayName=l.Root.displayName,t()}catch(e){t(e)}})},9451:(e,a,r)=>{r.d(a,{g:()=>i});var t=r(997),s=r(6689);!function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}();let i=s.forwardRef(({className:e,...a},r)=>t.jsx("textarea",{className:Object(function(){var e=Error("Cannot find module '@/lib/utils'");throw e.code="MODULE_NOT_FOUND",e}())("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...a}));i.displayName="Textarea"},5682:(e,a,r)=>{r.a(e,async(e,t)=>{try{r.r(a),r.d(a,{default:()=>N});var s=r(997),i=r(6689),l=r.n(i),n=r(3308),o=r(947),d=r(7095),c=r(9451),m=r(5364),h=r(7825),u=r(2698),p=r(2122),x=r(6037),b=r(9847),g=r(5861),f=e([m,h,u,p,x,b,g]);function k(e){return"undefined"!=typeof crypto&&"randomUUID"in crypto?`${e}-${crypto.randomUUID()}`:`${e}-${Date.now()}-${Math.random().toString(36).slice(2,8)}`}function v(e){return{storeName:e.storeName??"",logoUrl:e.logoUrl??"",heroHeadline:e.heroHeadline??"",heroTagline:e.heroTagline??"",heroDescription:e.heroDescription??"",heroImage:e.heroImage??"",whatsappNumber:e.whatsappNumber??"",instagram:e.instagram??"",facebook:e.facebook??"",tiktok:e.tiktok??"",shopee:e.shopee??""}}function j(e=[]){return e.map((e,a)=>({id:e.id,key:e.id??k(`nav-${a}`),label:e.label??"",url:e.url??"",isExternal:!!e.isExternal}))}[m,h,u,p,x,b,g]=f.then?(await f)():f;let N=function(){let e=(0,n.useNavigate)(),{settings:a,refresh:r}=(0,x.T)();(0,g.tN)(e=>e.token),(0,g.tN)(e=>e.isHydrated),(0,g.tN)(e=>e.hydrate);let t=(0,g.tN)(e=>e.logout),[i,f]=l().useState(()=>v(a)),[N,y]=l().useState(()=>j(a.navigation)),[w,_]=l().useState(!1),[S,D]=l().useState(null),[O,U]=l().useState(null),C=e=>a=>{let{value:r}=a.target;f(a=>({...a,[e]:r}))},T=(e,a)=>{y(r=>r.map(r=>r.key===e?{...r,...a}:r))},E=e=>{y(a=>a.filter(a=>a.key!==e))},I=(e,a)=>{y(r=>{let t=e+a;if(t<0||t>=r.length)return r;let s=[...r],[i]=s.splice(e,1);return s.splice(t,0,i),s})},P=async a=>{a.preventDefault(),D(null),U(null);let s=Object.fromEntries(Object.entries(i).map(([e,a])=>[e,"string"==typeof a?a.trim():a]));if(!s.storeName){D("Nama toko wajib diisi.");return}if(!s.heroHeadline||!s.heroTagline||!s.heroDescription||!s.heroImage){D("Kolom hero (headline, tagline, deskripsi, dan gambar) wajib diisi.");return}let l=N.map(e=>({id:e.id,label:e.label.trim(),url:e.url.trim(),isExternal:e.isExternal}));if(l.find(e=>!e.label||!e.url)){D("Setiap menu navigasi wajib memiliki label dan tautan.");return}_(!0);try{let e=await (0,b.P9)({storeName:s.storeName,logoUrl:s.logoUrl,heroHeadline:s.heroHeadline,heroTagline:s.heroTagline,heroDescription:s.heroDescription,heroImage:s.heroImage,whatsappNumber:s.whatsappNumber,instagram:s.instagram,facebook:s.facebook,tiktok:s.tiktok,shopee:s.shopee,navigation:l});f(v(e)),y(j(e.navigation)),U("Pengaturan toko berhasil disimpan."),await r()}catch(r){if(console.error("Gagal menyimpan pengaturan toko:",r),r instanceof b.MS&&401===r.status){t(),e("/admin/login",{replace:!0});return}let a=r instanceof b.MS&&r.message?r.message:"Gagal menyimpan pengaturan toko. Silakan coba lagi.";D(a)}finally{_(!1)}};return s.jsx(p.Z,{title:"Pengaturan Toko",description:"Atur identitas toko, konten hero, dan tautan navigasi yang tampil di landing page.",children:(0,s.jsxs)(o.Zb,{className:"border-amber-200/60 dark:border-amber-300/20",children:[s.jsx(o.Ol,{children:s.jsx(o.ll,{children:"Detail Toko"})}),s.jsx(o.aY,{children:(0,s.jsxs)("form",{className:"space-y-8",onSubmit:P,children:[(0,s.jsxs)("section",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"storeName",children:"Nama Toko"}),s.jsx(d.I,{id:"storeName",value:i.storeName,onChange:C("storeName"),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"logoUrl",children:"URL Logo"}),s.jsx(d.I,{id:"logoUrl",value:i.logoUrl,onChange:C("logoUrl"),placeholder:"https://..."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"whatsappNumber",children:"Nomor WhatsApp Utama"}),s.jsx(d.I,{id:"whatsappNumber",value:i.whatsappNumber,onChange:C("whatsappNumber"),placeholder:"628xxxxxxxxx"}),s.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:'Digunakan sebagai default link WhatsApp pada tombol "Beli" apabila produk tidak memiliki nomor khusus.'})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"heroImage",children:"URL Gambar Hero"}),s.jsx(d.I,{id:"heroImage",value:i.heroImage,onChange:C("heroImage"),placeholder:"https://...",required:!0})]})]}),(0,s.jsxs)("section",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"heroHeadline",children:"Hero Headline"}),s.jsx(d.I,{id:"heroHeadline",value:i.heroHeadline,onChange:C("heroHeadline"),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"heroTagline",children:"Hero Tagline"}),s.jsx(d.I,{id:"heroTagline",value:i.heroTagline,onChange:C("heroTagline"),required:!0})]}),(0,s.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[s.jsx(h._,{htmlFor:"heroDescription",children:"Hero Deskripsi"}),s.jsx(c.g,{id:"heroDescription",value:i.heroDescription,onChange:C("heroDescription"),rows:4,required:!0})]})]}),(0,s.jsxs)("section",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"instagram",children:"Instagram"}),s.jsx(d.I,{id:"instagram",value:i.instagram,onChange:C("instagram"),placeholder:"https://instagram.com/..."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"facebook",children:"Facebook"}),s.jsx(d.I,{id:"facebook",value:i.facebook,onChange:C("facebook"),placeholder:"https://facebook.com/..."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"tiktok",children:"TikTok"}),s.jsx(d.I,{id:"tiktok",value:i.tiktok,onChange:C("tiktok"),placeholder:"https://tiktok.com/@..."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:"shopee",children:"Shopee"}),s.jsx(d.I,{id:"shopee",value:i.shopee,onChange:C("shopee"),placeholder:"https://shopee.co.id/..."})]})]}),(0,s.jsxs)("section",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-amber-700 dark:text-amber-300",children:"Menu Navigasi"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Tentukan tautan yang tampil pada navbar di landing page."})]}),s.jsx(m.z,{type:"button",variant:"outline",onClick:()=>{y(e=>[...e,{key:k("nav-new"),label:"",url:"",isExternal:!1}])},children:"+ Tambah Menu"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[0===N.length&&s.jsx("p",{className:"rounded-md border border-dashed border-amber-300/60 bg-amber-50/60 p-4 text-sm text-amber-700 dark:border-amber-300/30 dark:bg-amber-900/10 dark:text-amber-200",children:"Belum ada menu. Tambahkan item untuk tampil di navbar."}),N.map((e,a)=>(0,s.jsxs)("div",{className:"rounded-lg border border-amber-200/60 bg-white p-4 shadow-sm dark:border-amber-300/20 dark:bg-neutral-900",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-[1fr_1fr_auto]",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:`nav-label-${e.key}`,children:"Label"}),s.jsx(d.I,{id:`nav-label-${e.key}`,value:e.label,onChange:a=>T(e.key,{label:a.target.value}),placeholder:"Contoh: Produk",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(h._,{htmlFor:`nav-url-${e.key}`,children:"URL"}),s.jsx(d.I,{id:`nav-url-${e.key}`,value:e.url,onChange:a=>T(e.key,{url:a.target.value}),placeholder:"#produk atau https://...",required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx(u.X,{id:`nav-external-${e.key}`,checked:e.isExternal,onCheckedChange:a=>T(e.key,{isExternal:!!a})}),s.jsx(h._,{htmlFor:`nav-external-${e.key}`,children:"Link eksternal"})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[s.jsx(m.z,{type:"button",size:"sm",variant:"outline",onClick:()=>I(a,-1),disabled:0===a,children:"Naik"}),s.jsx(m.z,{type:"button",size:"sm",variant:"outline",onClick:()=>I(a,1),disabled:a===N.length-1,children:"Turun"}),s.jsx(m.z,{type:"button",size:"sm",variant:"destructive",onClick:()=>E(e.key),children:"Hapus"})]})]},e.key))]})]}),S&&s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:S}),O&&s.jsx("p",{className:"text-sm text-emerald-600 dark:text-emerald-400",children:O}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[s.jsx(m.z,{type:"button",variant:"outline",onClick:()=>{f(v(a)),y(j(a.navigation)),D(null),U(null)},disabled:w,children:"Reset"}),s.jsx(m.z,{type:"submit",disabled:w,className:"bg-amber-600 text-white hover:bg-amber-700 dark:bg-amber-500 dark:hover:bg-amber-600",children:w?"Menyimpan...":"Simpan Pengaturan"})]})]})})]})})};t()}catch(e){t(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},3308:e=>{e.exports=require("react-router")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")},1601:e=>{e.exports=import("@radix-ui/react-checkbox")},49:e=>{e.exports=import("@radix-ui/react-label")},4338:e=>{e.exports=import("@radix-ui/react-slot")},6926:e=>{e.exports=import("class-variance-authority")},6912:e=>{e.exports=import("zustand")}};var a=require("../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[682,928],()=>r(1842));module.exports=t})();