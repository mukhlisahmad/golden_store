(()=>{var e={};e.id=435,e.ids=[435],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2e3:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o}),t(7486),t(4752),t(5866);var a=t(3191),s=t(8716),i=t(7922),n=t.n(i),l=t(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(r,d);let o=["",{children:["admin",{children:["products",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7486)),"/Users/mbairm12020/Documents/goldenstore/goldenstore/app/admin/products/[id]/edit/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4752)),"/Users/mbairm12020/Documents/goldenstore/goldenstore/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/mbairm12020/Documents/goldenstore/goldenstore/app/admin/products/[id]/edit/page.tsx"],u="/admin/products/[id]/edit/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/products/[id]/edit/page",pathname:"/admin/products/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2277:(e,r,t)=>{Promise.resolve().then(t.bind(t,4532))},1190:(e,r,t)=>{"use strict";t.d(r,{I:()=>n});var a=t(326),s=t(7577),i=t(1223);let n=s.forwardRef(({className:e,type:r,...t},s)=>a.jsx("input",{type:r,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));n.displayName="Input"},7299:(e,r,t)=>{"use strict";t.d(r,{_:()=>c});var a=t(326),s=t(7577),i=t(5226),n=s.forwardRef((e,r)=>(0,a.jsx)(i.WV.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n.displayName="Label";var l=t(9360),d=t(1223);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef(({className:e,...r},t)=>a.jsx(n,{ref:t,className:(0,d.cn)(o(),e),...r}));c.displayName=n.displayName},2015:(e,r,t)=>{"use strict";t.d(r,{g:()=>n});var a=t(326),s=t(7577),i=t(1223);let n=s.forwardRef(({className:e,...r},t)=>a.jsx("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...r}));n.displayName="Textarea"},4532:(e,r,t)=>{"use strict";t.d(r,{default:()=>g});var a=t(326),s=t(7577),i=t.n(s),n=t(5047),l=t(9752),d=t(1411),o=t(1190),c=t(2015),u=t(7299);let m=function({initialValues:e,loading:r=!1,onSubmit:t}){let[s,n]=i().useState(()=>({name:e?.name??"",price:e?.price!=null?String(e.price):"",image:e?.image??"",description:e?.description??"",shopeeUrl:e?.shopeeUrl??"",whatsappNumber:e?.whatsappNumber??"",tagsText:e?.tags?.join(", ")??"",slug:e?.slug??""})),[l,m]=i().useState(null),p=e=>r=>{let{value:t}=r.target;n(r=>({...r,[e]:t}))},x=async e=>{e.preventDefault(),m(null);let r=Number(s.price);if(!Number.isFinite(r)||r<0){m("Harga harus berupa angka positif.");return}let a=s.tagsText.split(",").map(e=>e.trim()).filter(Boolean);try{await t({name:s.name.trim(),price:Math.round(r),image:s.image.trim(),description:s.description.trim(),shopeeUrl:s.shopeeUrl.trim(),whatsappNumber:s.whatsappNumber.trim()||void 0,tags:a,slug:s.slug.trim()||void 0})}catch(e){console.error("Submit product error:",e),e instanceof Error&&e.message?m(e.message):m("Gagal menyimpan produk. Silakan coba lagi.")}};return(0,a.jsxs)("form",{className:"space-y-6",onSubmit:x,children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"name",children:"Nama Produk"}),a.jsx(o.I,{id:"name",value:s.name,onChange:p("name"),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"price",children:"Harga (Rp)"}),a.jsx(o.I,{id:"price",type:"number",min:"0",step:"1",value:s.price,onChange:p("price"),required:!0})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"image",children:"URL Gambar"}),a.jsx(o.I,{id:"image",type:"url",value:s.image,onChange:p("image"),placeholder:"https://...",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"shopeeUrl",children:"URL Shopee"}),a.jsx(o.I,{id:"shopeeUrl",type:"url",value:s.shopeeUrl,onChange:p("shopeeUrl"),placeholder:"https://shopee.co.id/...",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"whatsappNumber",children:"Nomor WhatsApp (opsional)"}),a.jsx(o.I,{id:"whatsappNumber",value:s.whatsappNumber,onChange:p("whatsappNumber"),placeholder:"628xxxxxxxxx"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"slug",children:"Slug (opsional)"}),a.jsx(o.I,{id:"slug",value:s.slug,onChange:p("slug"),placeholder:"cincin-aurora"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"tags",children:"Tags (pisahkan dengan koma)"}),a.jsx(o.I,{id:"tags",value:s.tagsText,onChange:p("tagsText"),placeholder:"Best Seller, Cincin"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"description",children:"Deskripsi"}),a.jsx(c.g,{id:"description",value:s.description,onChange:p("description"),rows:4,required:!0})]}),l&&a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l}),a.jsx("div",{className:"flex justify-end gap-2",children:a.jsx(d.z,{type:"submit",disabled:r,className:"bg-amber-600 text-white hover:bg-amber-700 dark:bg-amber-500 dark:hover:bg-amber-600",children:r?"Menyimpan...":"Simpan"})})]})};var p=t(8029),x=t(5142),h=t(8280);function g({productId:e}){let r=(0,n.useRouter)(),t=!!e,s="/admin/products";(0,p.tN)(e=>e.token),(0,p.tN)(e=>e.isHydrated),(0,p.tN)(e=>e.hydrate);let o=(0,p.tN)(e=>e.logout),[c,u]=i().useState(void 0),[g,b]=i().useState(!1),[f,v]=i().useState(t),[j,y]=i().useState(null),N=async a=>{b(!0),y(null);try{t&&e?await (0,x.nM)(e,a):await (0,x.ry)(a),r.replace(s)}catch(e){if(console.error("Simpan produk gagal:",e),e instanceof x.MS){if(401===e.status){o(),r.replace("/admin/login");return}if(e.message)throw Error(e.message)}throw e}finally{b(!1)}};return t&&f?a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-100 dark:bg-neutral-950",children:a.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Memuat data produk..."})}):j?(0,a.jsxs)("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-neutral-100 px-4 text-center dark:bg-neutral-950",children:[a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:j}),a.jsx("button",{onClick:()=>r.push(s),className:"rounded-md border border-amber-300 px-4 py-2 text-sm text-amber-700 hover:bg-amber-50 dark:border-amber-200/40 dark:text-amber-200 dark:hover:bg-amber-900/20",children:"Kembali ke daftar produk"})]}):a.jsx(h.Z,{title:t?"Edit Produk":"Produk Baru",description:t?"Ubah informasi produk agar tetap up to date.":"Tambahkan produk baru ke dalam katalog Golden Store.",actions:a.jsx(d.z,{variant:"outline",onClick:()=>r.push(s),children:"Kembali"}),children:(0,a.jsxs)(l.Zb,{className:"border-amber-200/60 dark:border-amber-300/20",children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:t?"Edit Produk":"Produk Baru"})}),(0,a.jsxs)(l.aY,{children:[a.jsx(m,{initialValues:c,loading:g,onSubmit:N}),a.jsx("div",{className:"mt-4 text-right",children:a.jsx("button",{type:"button",onClick:()=>r.push(s),className:"text-sm text-neutral-600 underline hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100",children:"Batalkan"})})]})]})})}},7486:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var a=t(9510),s=t(4645);function i({params:e}){return a.jsx(s.Z,{productId:e.id})}},4645:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(8570).createProxy)(String.raw`/Users/mbairm12020/Documents/goldenstore/goldenstore/src/pages/admin/AdminProductForm.tsx#default`)},5226:(e,r,t)=>{"use strict";t.d(r,{WV:()=>l,jH:()=>d});var a=t(7577),s=t(962),i=t(4214),n=t(326),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,i.Z8)(`Primitive.${r}`),s=a.forwardRef((e,a)=>{let{asChild:s,...i}=e,l=s?t:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...i,ref:a})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function d(e,r){e&&s.flushSync(()=>e.dispatchEvent(r))}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[948,678,325,496,60],()=>t(2e3));module.exports=a})();