(()=>{var e={};e.id=122,e.ids=[122],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3936:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>o}),r(6631),r(4752),r(5866);var t=r(3191),s=r(8716),n=r(7922),l=r.n(n),d=r(5231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);r.d(a,i);let o=["",{children:["admin",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6631)),"/Users/mbairm12020/Documents/goldenstore/goldenstore/app/admin/products/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4752)),"/Users/mbairm12020/Documents/goldenstore/goldenstore/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/mbairm12020/Documents/goldenstore/goldenstore/app/admin/products/page.tsx"],m="/admin/products/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/products/page",pathname:"/admin/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4458:(e,a,r)=>{Promise.resolve().then(r.bind(r,5220))},5220:(e,a,r)=>{"use strict";r.d(a,{default:()=>k});var t=r(326),s=r(7577),n=r.n(s),l=r(434),d=r(5047),i=r(1411),o=r(9752),c=r(1223);let m=s.forwardRef(({className:e,...a},r)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:r,className:(0,c.cn)("w-full caption-bottom text-sm",e),...a})}));m.displayName="Table";let u=s.forwardRef(({className:e,...a},r)=>t.jsx("thead",{ref:r,className:(0,c.cn)("[&_tr]:border-b",e),...a}));u.displayName="TableHeader";let p=s.forwardRef(({className:e,...a},r)=>t.jsx("tbody",{ref:r,className:(0,c.cn)("[&_tr:last-child]:border-0",e),...a}));p.displayName="TableBody",s.forwardRef(({className:e,...a},r)=>t.jsx("tfoot",{ref:r,className:(0,c.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let x=s.forwardRef(({className:e,...a},r)=>t.jsx("tr",{ref:r,className:(0,c.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));x.displayName="TableRow";let h=s.forwardRef(({className:e,...a},r)=>t.jsx("th",{ref:r,className:(0,c.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a}));h.displayName="TableHead";let b=s.forwardRef(({className:e,...a},r)=>t.jsx("td",{ref:r,className:(0,c.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a}));b.displayName="TableCell",s.forwardRef(({className:e,...a},r)=>t.jsx("caption",{ref:r,className:(0,c.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption";var f=r(5142),g=r(8029),j=r(8280);function k(){let e=(0,d.useRouter)();(0,g.tN)(e=>e.token),(0,g.tN)(e=>e.isHydrated),(0,g.tN)(e=>e.hydrate);let a=(0,g.tN)(e=>e.logout),r="/admin/login",[s,c]=n().useState([]),[k,N]=n().useState(!0),[y,v]=n().useState(null),[w,P]=n().useState(null),_=n().useCallback(async()=>{N(!0),v(null);try{let e=await (0,f.t2)();c(e)}catch(t){if(console.error("Gagal mengambil produk:",t),t instanceof f.MS&&401===t.status){a(),e.replace(r);return}v(t instanceof f.MS&&t.message?t.message:"Tidak dapat memuat data produk. Pastikan Anda sudah login dan server berjalan.")}finally{N(!1)}},[a,e]),S=async t=>{if(window.confirm("Hapus produk ini?")){P(t);try{await (0,f.Ir)(t),c(e=>e.filter(e=>e.id!==t))}catch(t){if(console.error("Gagal menghapus produk:",t),t instanceof f.MS&&401===t.status){a(),e.replace(r);return}alert(t instanceof f.MS&&t.message?t.message:"Gagal menghapus produk. Silakan coba lagi.")}finally{P(null)}}};return t.jsx(j.Z,{title:"Dashboard Produk",description:"Kelola katalog Golden Store: tambah, ubah, dan hapus produk.",actions:t.jsx(i.z,{onClick:()=>e.push("/admin/products/new"),className:"bg-amber-600 text-white hover:bg-amber-700 dark:bg-amber-500 dark:hover:bg-amber-600",children:"+ Produk Baru"}),children:(0,t.jsxs)(o.Zb,{className:"border-amber-200/60 dark:border-amber-300/20",children:[t.jsx(o.Ol,{children:t.jsx(o.ll,{children:"Daftar Produk"})}),t.jsx(o.aY,{children:k?t.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Memuat produk..."}):y?(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:y}),t.jsx(i.z,{size:"sm",variant:"outline",onClick:()=>_(),children:"Coba lagi"})]}):0===s.length?t.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Belum ada produk."}):(0,t.jsxs)(m,{children:[t.jsx(u,{children:(0,t.jsxs)(x,{children:[t.jsx(h,{children:"Nama"}),t.jsx(h,{children:"Harga"}),t.jsx(h,{children:"Shopee"}),t.jsx(h,{children:"Tags"}),t.jsx(h,{className:"text-right",children:"Aksi"})]})}),t.jsx(p,{children:s.map(e=>(0,t.jsxs)(x,{children:[t.jsx(b,{className:"font-medium",children:e.name}),(0,t.jsxs)(b,{children:["Rp ",e.price.toLocaleString("id-ID")]}),t.jsx(b,{children:t.jsx("a",{href:e.shopeeUrl,target:"_blank",rel:"noreferrer",className:"text-amber-600 underline hover:text-amber-700 dark:text-amber-300",children:"Link"})}),t.jsx(b,{children:e.tags?.join(", ")??"-"}),(0,t.jsxs)(b,{className:"flex justify-end gap-2",children:[t.jsx(i.z,{size:"sm",variant:"outline",asChild:!0,children:t.jsx(l.default,{href:{pathname:"/admin/products/[id]/edit",query:{id:e.id}},children:"Ubah"})}),t.jsx(i.z,{size:"sm",variant:"destructive",onClick:()=>S(e.id),disabled:w===e.id,children:w===e.id?"Menghapus...":"Hapus"})]})]},e.id))})]})})]})})}},6631:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>n});var t=r(9510);let s=(0,r(8570).createProxy)(String.raw`/Users/mbairm12020/Documents/goldenstore/goldenstore/src/pages/admin/AdminProducts.tsx#default`);function n(){return t.jsx(s,{})}}};var a=require("../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[948,678,325,496,60],()=>r(3936));module.exports=t})();