(()=>{var e={};e.id=573,e.ids=[573],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>o}),a(8917),a(4752),a(5866);var t=a(3191),s=a(8716),i=a(7922),n=a.n(i),l=a(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);a.d(r,d);let o=["",{children:["admin",{children:["products",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8917)),"/Users/mbairm12020/Documents/goldenstore/goldenstore/app/admin/products/new/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,4752)),"/Users/mbairm12020/Documents/goldenstore/goldenstore/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/mbairm12020/Documents/goldenstore/goldenstore/app/admin/products/new/page.tsx"],c="/admin/products/new/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/products/new/page",pathname:"/admin/products/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2277:(e,r,a)=>{Promise.resolve().then(a.bind(a,4532))},1190:(e,r,a)=>{"use strict";a.d(r,{I:()=>n});var t=a(326),s=a(7577),i=a(1223);let n=s.forwardRef(({className:e,type:r,...a},s)=>t.jsx("input",{type:r,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...a}));n.displayName="Input"},7299:(e,r,a)=>{"use strict";a.d(r,{_:()=>u});var t=a(326),s=a(7577),i=a(5226),n=s.forwardRef((e,r)=>(0,t.jsx)(i.WV.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n.displayName="Label";var l=a(9360),d=a(1223);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=s.forwardRef(({className:e,...r},a)=>t.jsx(n,{ref:a,className:(0,d.cn)(o(),e),...r}));u.displayName=n.displayName},2015:(e,r,a)=>{"use strict";a.d(r,{g:()=>n});var t=a(326),s=a(7577),i=a(1223);let n=s.forwardRef(({className:e,...r},a)=>t.jsx("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));n.displayName="Textarea"},4532:(e,r,a)=>{"use strict";a.d(r,{default:()=>g});var t=a(326),s=a(7577),i=a.n(s),n=a(5047),l=a(9752),d=a(1411),o=a(1190),u=a(2015),c=a(7299);let m=function({initialValues:e,loading:r=!1,onSubmit:a}){let[s,n]=i().useState(()=>({name:e?.name??"",price:e?.price!=null?String(e.price):"",image:e?.image??"",description:e?.description??"",shopeeUrl:e?.shopeeUrl??"",whatsappNumber:e?.whatsappNumber??"",tagsText:e?.tags?.join(", ")??"",slug:e?.slug??""})),[l,m]=i().useState(null),p=e=>r=>{let{value:a}=r.target;n(r=>({...r,[e]:a}))},x=async e=>{e.preventDefault(),m(null);let r=Number(s.price);if(!Number.isFinite(r)||r<0){m("Harga harus berupa angka positif.");return}let t=s.tagsText.split(",").map(e=>e.trim()).filter(Boolean);try{await a({name:s.name.trim(),price:Math.round(r),image:s.image.trim(),description:s.description.trim(),shopeeUrl:s.shopeeUrl.trim(),whatsappNumber:s.whatsappNumber.trim()||void 0,tags:t,slug:s.slug.trim()||void 0})}catch(e){console.error("Submit product error:",e),e instanceof Error&&e.message?m(e.message):m("Gagal menyimpan produk. Silakan coba lagi.")}};return(0,t.jsxs)("form",{className:"space-y-6",onSubmit:x,children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"name",children:"Nama Produk"}),t.jsx(o.I,{id:"name",value:s.name,onChange:p("name"),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"price",children:"Harga (Rp)"}),t.jsx(o.I,{id:"price",type:"number",min:"0",step:"1",value:s.price,onChange:p("price"),required:!0})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"image",children:"URL Gambar"}),t.jsx(o.I,{id:"image",type:"url",value:s.image,onChange:p("image"),placeholder:"https://...",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"shopeeUrl",children:"URL Shopee"}),t.jsx(o.I,{id:"shopeeUrl",type:"url",value:s.shopeeUrl,onChange:p("shopeeUrl"),placeholder:"https://shopee.co.id/...",required:!0})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"whatsappNumber",children:"Nomor WhatsApp (opsional)"}),t.jsx(o.I,{id:"whatsappNumber",value:s.whatsappNumber,onChange:p("whatsappNumber"),placeholder:"628xxxxxxxxx"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"slug",children:"Slug (opsional)"}),t.jsx(o.I,{id:"slug",value:s.slug,onChange:p("slug"),placeholder:"cincin-aurora"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"tags",children:"Tags (pisahkan dengan koma)"}),t.jsx(o.I,{id:"tags",value:s.tagsText,onChange:p("tagsText"),placeholder:"Best Seller, Cincin"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"description",children:"Deskripsi"}),t.jsx(u.g,{id:"description",value:s.description,onChange:p("description"),rows:4,required:!0})]}),l&&t.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l}),t.jsx("div",{className:"flex justify-end gap-2",children:t.jsx(d.z,{type:"submit",disabled:r,className:"bg-amber-600 text-white hover:bg-amber-700 dark:bg-amber-500 dark:hover:bg-amber-600",children:r?"Menyimpan...":"Simpan"})})]})};var p=a(8029),x=a(5142),h=a(8280);function g({productId:e}){let r=(0,n.useRouter)(),a=!!e,s="/admin/products";(0,p.tN)(e=>e.token),(0,p.tN)(e=>e.isHydrated),(0,p.tN)(e=>e.hydrate);let o=(0,p.tN)(e=>e.logout),[u,c]=i().useState(void 0),[g,b]=i().useState(!1),[f,v]=i().useState(a),[j,y]=i().useState(null),N=async t=>{b(!0),y(null);try{a&&e?await (0,x.nM)(e,t):await (0,x.ry)(t),r.replace(s)}catch(e){if(console.error("Simpan produk gagal:",e),e instanceof x.MS){if(401===e.status){o(),r.replace("/admin/login");return}if(e.message)throw Error(e.message)}throw e}finally{b(!1)}};return a&&f?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-100 dark:bg-neutral-950",children:t.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:"Memuat data produk..."})}):j?(0,t.jsxs)("div",{className:"flex min-h-screen flex-col items-center justify-center gap-4 bg-neutral-100 px-4 text-center dark:bg-neutral-950",children:[t.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:j}),t.jsx("button",{onClick:()=>r.push(s),className:"rounded-md border border-amber-300 px-4 py-2 text-sm text-amber-700 hover:bg-amber-50 dark:border-amber-200/40 dark:text-amber-200 dark:hover:bg-amber-900/20",children:"Kembali ke daftar produk"})]}):t.jsx(h.Z,{title:a?"Edit Produk":"Produk Baru",description:a?"Ubah informasi produk agar tetap up to date.":"Tambahkan produk baru ke dalam katalog Golden Store.",actions:t.jsx(d.z,{variant:"outline",onClick:()=>r.push(s),children:"Kembali"}),children:(0,t.jsxs)(l.Zb,{className:"border-amber-200/60 dark:border-amber-300/20",children:[t.jsx(l.Ol,{children:t.jsx(l.ll,{children:a?"Edit Produk":"Produk Baru"})}),(0,t.jsxs)(l.aY,{children:[t.jsx(m,{initialValues:u,loading:g,onSubmit:N}),t.jsx("div",{className:"mt-4 text-right",children:t.jsx("button",{type:"button",onClick:()=>r.push(s),className:"text-sm text-neutral-600 underline hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100",children:"Batalkan"})})]})]})})}},8917:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>i});var t=a(9510),s=a(4645);function i(){return t.jsx(s.Z,{})}},4645:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(8570).createProxy)(String.raw`/Users/mbairm12020/Documents/goldenstore/goldenstore/src/pages/admin/AdminProductForm.tsx#default`)},5226:(e,r,a)=>{"use strict";a.d(r,{WV:()=>l,jH:()=>d});var t=a(7577),s=a(962),i=a(4214),n=a(326),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let a=(0,i.Z8)(`Primitive.${r}`),s=t.forwardRef((e,t)=>{let{asChild:s,...i}=e,l=s?a:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...i,ref:t})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function d(e,r){e&&s.flushSync(()=>e.dispatchEvent(r))}}};var r=require("../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[948,678,325,496,60],()=>a(55));module.exports=t})();