(()=>{var e={};e.id=441,e.ids=[441],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8918:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(4825),r(4752),r(5866);var t=r(3191),s=r(8716),n=r(7922),i=r.n(n),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(a,o);let d=["",{children:["admin",{children:["store-settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4825)),"/Users/mbairm12020/Documents/goldenstore/goldenstore/app/admin/store-settings/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4752)),"/Users/mbairm12020/Documents/goldenstore/goldenstore/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/mbairm12020/Documents/goldenstore/goldenstore/app/admin/store-settings/page.tsx"],u="/admin/store-settings/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/store-settings/page",pathname:"/admin/store-settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9945:(e,a,r)=>{Promise.resolve().then(r.bind(r,6550))},1190:(e,a,r)=>{"use strict";r.d(a,{I:()=>i});var t=r(326),s=r(7577),n=r(1223);let i=s.forwardRef(({className:e,type:a,...r},s)=>t.jsx("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));i.displayName="Input"},7299:(e,a,r)=>{"use strict";r.d(a,{_:()=>c});var t=r(326),s=r(7577),n=r(5226),i=s.forwardRef((e,a)=>(0,t.jsx)(n.WV.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var l=r(9360),o=r(1223);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef(({className:e,...a},r)=>t.jsx(i,{ref:r,className:(0,o.cn)(d(),e),...a}));c.displayName=i.displayName},2015:(e,a,r)=>{"use strict";r.d(a,{g:()=>i});var t=r(326),s=r(7577),n=r(1223);let i=s.forwardRef(({className:e,...a},r)=>t.jsx("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...a}));i.displayName="Textarea"},6550:(e,a,r)=>{"use strict";r.d(a,{default:()=>O});var t=r(326),s=r(7577),n=r.n(s),i=r(5047),l=r(9752),o=r(1190),d=r(2015),c=r(1411),u=r(7299),m=r(8051),p=r(3095),h=r(2561),x=r(2067),g=r(2566),b=r(9815),f=r(5226),k="Checkbox",[v,j]=(0,p.b)(k),[y,N]=v(k);function w(e){let{__scopeCheckbox:a,checked:r,children:n,defaultChecked:i,disabled:l,form:o,name:d,onCheckedChange:c,required:u,value:m="on",internal_do_not_use_render:p}=e,[h,g]=(0,x.T)({prop:r,defaultProp:i??!1,onChange:c,caller:k}),[b,f]=s.useState(null),[v,j]=s.useState(null),N=s.useRef(!1),w=!b||!!o||!!b.closest("form"),_={checked:h,disabled:l,setChecked:g,control:b,setControl:f,name:d,form:o,value:m,hasConsumerStoppedPropagationRef:N,required:u,defaultChecked:!U(i)&&i,isFormControl:w,bubbleInput:v,setBubbleInput:j};return(0,t.jsx)(y,{scope:a,..._,children:"function"==typeof p?p(_):n})}var _="CheckboxTrigger",C=s.forwardRef(({__scopeCheckbox:e,onKeyDown:a,onClick:r,...n},i)=>{let{control:l,value:o,disabled:d,checked:c,required:u,setControl:p,setChecked:x,hasConsumerStoppedPropagationRef:g,isFormControl:b,bubbleInput:k}=N(_,e),v=(0,m.e)(i,p),j=s.useRef(c);return s.useEffect(()=>{let e=l?.form;if(e){let a=()=>x(j.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[l,x]),(0,t.jsx)(f.WV.button,{type:"button",role:"checkbox","aria-checked":U(c)?"mixed":c,"aria-required":u,"data-state":R(c),"data-disabled":d?"":void 0,disabled:d,value:o,...n,ref:v,onKeyDown:(0,h.Mj)(a,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,h.Mj)(r,e=>{x(e=>!!U(e)||!e),k&&b&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});C.displayName=_;var I=s.forwardRef((e,a)=>{let{__scopeCheckbox:r,name:s,checked:n,defaultChecked:i,required:l,disabled:o,value:d,onCheckedChange:c,form:u,...m}=e;return(0,t.jsx)(w,{__scopeCheckbox:r,checked:n,defaultChecked:i,disabled:o,required:l,onCheckedChange:c,name:s,form:u,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C,{...m,ref:a,__scopeCheckbox:r}),e&&(0,t.jsx)(E,{__scopeCheckbox:r})]})})});I.displayName=k;var D="CheckboxIndicator",P=s.forwardRef((e,a)=>{let{__scopeCheckbox:r,forceMount:s,...n}=e,i=N(D,r);return(0,t.jsx)(b.z,{present:s||U(i.checked)||!0===i.checked,children:(0,t.jsx)(f.WV.span,{"data-state":R(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:a,style:{pointerEvents:"none",...e.style}})})});P.displayName=D;var T="CheckboxBubbleInput",E=s.forwardRef(({__scopeCheckbox:e,...a},r)=>{let{control:n,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:o,required:d,disabled:c,name:u,value:p,form:h,bubbleInput:x,setBubbleInput:b}=N(T,e),k=(0,m.e)(r,b),v=function(e){let a=s.useRef({value:e,previous:e});return s.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}(l),j=(0,g.t)(n);s.useEffect(()=>{if(!x)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,a=!i.current;if(v!==l&&e){let r=new Event("click",{bubbles:a});x.indeterminate=U(l),e.call(x,!U(l)&&l),x.dispatchEvent(r)}},[x,v,l,i]);let y=s.useRef(!U(l)&&l);return(0,t.jsx)(f.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:d,disabled:c,name:u,value:p,form:h,...a,tabIndex:-1,ref:k,style:{...a.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function U(e){return"indeterminate"===e}function R(e){return U(e)?"indeterminate":e?"checked":"unchecked"}E.displayName=T;let S=(0,r(2881).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var H=r(1223);let F=s.forwardRef(({className:e,...a},r)=>t.jsx(I,{ref:r,className:(0,H.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...a,children:t.jsx(P,{className:(0,H.cn)("flex items-center justify-center text-current"),children:t.jsx(S,{className:"h-4 w-4"})})}));F.displayName=I.displayName;var M=r(8280),q=r(2545),$=r(5142),z=r(8029);function L(e){return"undefined"!=typeof crypto&&"randomUUID"in crypto?`${e}-${crypto.randomUUID()}`:`${e}-${Date.now()}-${Math.random().toString(36).slice(2,8)}`}function A(e){return{storeName:e.storeName??"",logoUrl:e.logoUrl??"",heroHeadline:e.heroHeadline??"",heroTagline:e.heroTagline??"",heroDescription:e.heroDescription??"",heroImage:e.heroImage??"",whatsappNumber:e.whatsappNumber??"",instagram:e.instagram??"",facebook:e.facebook??"",tiktok:e.tiktok??"",shopee:e.shopee??""}}function G(e=[]){return e.map((e,a)=>({id:e.id,key:e.id??L(`nav-${a}`),label:e.label??"",url:e.url??"",isExternal:!!e.isExternal}))}let O=function(){let e=(0,i.useRouter)(),{settings:a,refresh:r}=(0,q.T)();(0,z.tN)(e=>e.token),(0,z.tN)(e=>e.isHydrated),(0,z.tN)(e=>e.hydrate);let s=(0,z.tN)(e=>e.logout),[m,p]=n().useState(()=>A(a)),[h,x]=n().useState(()=>G(a.navigation)),[g,b]=n().useState(!1),[f,k]=n().useState(null),[v,j]=n().useState(null),y=e=>a=>{let{value:r}=a.target;p(a=>({...a,[e]:r}))},N=(e,a)=>{x(r=>r.map(r=>r.key===e?{...r,...a}:r))},w=e=>{x(a=>a.filter(a=>a.key!==e))},_=(e,a)=>{x(r=>{let t=e+a;if(t<0||t>=r.length)return r;let s=[...r],[n]=s.splice(e,1);return s.splice(t,0,n),s})},C=async a=>{a.preventDefault(),k(null),j(null);let t=Object.fromEntries(Object.entries(m).map(([e,a])=>[e,"string"==typeof a?a.trim():a]));if(!t.storeName){k("Nama toko wajib diisi.");return}if(!t.heroHeadline||!t.heroTagline||!t.heroDescription||!t.heroImage){k("Kolom hero (headline, tagline, deskripsi, dan gambar) wajib diisi.");return}let n=h.map(e=>({id:e.id,label:e.label.trim(),url:e.url.trim(),isExternal:e.isExternal}));if(n.find(e=>!e.label||!e.url)){k("Setiap menu navigasi wajib memiliki label dan tautan.");return}b(!0);try{let e=await (0,$.P9)({storeName:t.storeName,logoUrl:t.logoUrl,heroHeadline:t.heroHeadline,heroTagline:t.heroTagline,heroDescription:t.heroDescription,heroImage:t.heroImage,whatsappNumber:t.whatsappNumber,instagram:t.instagram,facebook:t.facebook,tiktok:t.tiktok,shopee:t.shopee,navigation:n});p(A(e)),x(G(e.navigation)),j("Pengaturan toko berhasil disimpan."),await r()}catch(a){if(console.error("Gagal menyimpan pengaturan toko:",a),a instanceof $.MS&&401===a.status){s(),e.replace("/admin/login");return}k(a instanceof $.MS&&a.message?a.message:"Gagal menyimpan pengaturan toko. Silakan coba lagi.")}finally{b(!1)}};return t.jsx(M.Z,{title:"Pengaturan Toko",description:"Atur identitas toko, konten hero, dan tautan navigasi yang tampil di landing page.",children:(0,t.jsxs)(l.Zb,{className:"border-amber-200/60 dark:border-amber-300/20",children:[t.jsx(l.Ol,{children:t.jsx(l.ll,{children:"Detail Toko"})}),t.jsx(l.aY,{children:(0,t.jsxs)("form",{className:"space-y-8",onSubmit:C,children:[(0,t.jsxs)("section",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"storeName",children:"Nama Toko"}),t.jsx(o.I,{id:"storeName",value:m.storeName,onChange:y("storeName"),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"logoUrl",children:"URL Logo"}),t.jsx(o.I,{id:"logoUrl",value:m.logoUrl,onChange:y("logoUrl"),placeholder:"https://..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"whatsappNumber",children:"Nomor WhatsApp Utama"}),t.jsx(o.I,{id:"whatsappNumber",value:m.whatsappNumber,onChange:y("whatsappNumber"),placeholder:"628xxxxxxxxx"}),t.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:'Digunakan sebagai default link WhatsApp pada tombol "Beli" apabila produk tidak memiliki nomor khusus.'})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"heroImage",children:"URL Gambar Hero"}),t.jsx(o.I,{id:"heroImage",value:m.heroImage,onChange:y("heroImage"),placeholder:"https://...",required:!0})]})]}),(0,t.jsxs)("section",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"heroHeadline",children:"Hero Headline"}),t.jsx(o.I,{id:"heroHeadline",value:m.heroHeadline,onChange:y("heroHeadline"),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"heroTagline",children:"Hero Tagline"}),t.jsx(o.I,{id:"heroTagline",value:m.heroTagline,onChange:y("heroTagline"),required:!0})]}),(0,t.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[t.jsx(u._,{htmlFor:"heroDescription",children:"Hero Deskripsi"}),t.jsx(d.g,{id:"heroDescription",value:m.heroDescription,onChange:y("heroDescription"),rows:4,required:!0})]})]}),(0,t.jsxs)("section",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"instagram",children:"Instagram"}),t.jsx(o.I,{id:"instagram",value:m.instagram,onChange:y("instagram"),placeholder:"https://instagram.com/..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"facebook",children:"Facebook"}),t.jsx(o.I,{id:"facebook",value:m.facebook,onChange:y("facebook"),placeholder:"https://facebook.com/..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"tiktok",children:"TikTok"}),t.jsx(o.I,{id:"tiktok",value:m.tiktok,onChange:y("tiktok"),placeholder:"https://tiktok.com/@..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:"shopee",children:"Shopee"}),t.jsx(o.I,{id:"shopee",value:m.shopee,onChange:y("shopee"),placeholder:"https://shopee.co.id/..."})]})]}),(0,t.jsxs)("section",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-amber-700 dark:text-amber-300",children:"Menu Navigasi"}),t.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Tentukan tautan yang tampil pada navbar di landing page."})]}),t.jsx(c.z,{type:"button",variant:"outline",onClick:()=>{x(e=>[...e,{key:L("nav-new"),label:"",url:"",isExternal:!1}])},children:"+ Tambah Menu"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[0===h.length&&t.jsx("p",{className:"rounded-md border border-dashed border-amber-300/60 bg-amber-50/60 p-4 text-sm text-amber-700 dark:border-amber-300/30 dark:bg-amber-900/10 dark:text-amber-200",children:"Belum ada menu. Tambahkan item untuk tampil di navbar."}),h.map((e,a)=>(0,t.jsxs)("div",{className:"rounded-lg border border-amber-200/60 bg-white p-4 shadow-sm dark:border-amber-300/20 dark:bg-neutral-900",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-[1fr_1fr_auto]",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:`nav-label-${e.key}`,children:"Label"}),t.jsx(o.I,{id:`nav-label-${e.key}`,value:e.label,onChange:a=>N(e.key,{label:a.target.value}),placeholder:"Contoh: Produk",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(u._,{htmlFor:`nav-url-${e.key}`,children:"URL"}),t.jsx(o.I,{id:`nav-url-${e.key}`,value:e.url,onChange:a=>N(e.key,{url:a.target.value}),placeholder:"#produk atau https://...",required:!0})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-6",children:[t.jsx(F,{id:`nav-external-${e.key}`,checked:e.isExternal,onCheckedChange:a=>N(e.key,{isExternal:!!a})}),t.jsx(u._,{htmlFor:`nav-external-${e.key}`,children:"Link eksternal"})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[t.jsx(c.z,{type:"button",size:"sm",variant:"outline",onClick:()=>_(a,-1),disabled:0===a,children:"Naik"}),t.jsx(c.z,{type:"button",size:"sm",variant:"outline",onClick:()=>_(a,1),disabled:a===h.length-1,children:"Turun"}),t.jsx(c.z,{type:"button",size:"sm",variant:"destructive",onClick:()=>w(e.key),children:"Hapus"})]})]},e.key))]})]}),f&&t.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:f}),v&&t.jsx("p",{className:"text-sm text-emerald-600 dark:text-emerald-400",children:v}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[t.jsx(c.z,{type:"button",variant:"outline",onClick:()=>{p(A(a)),x(G(a.navigation)),k(null),j(null)},disabled:g,children:"Reset"}),t.jsx(c.z,{type:"submit",disabled:g,className:"bg-amber-600 text-white hover:bg-amber-700 dark:bg-amber-500 dark:hover:bg-amber-600",children:g?"Menyimpan...":"Simpan Pengaturan"})]})]})})]})})}},4825:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>n});var t=r(9510);let s=(0,r(8570).createProxy)(String.raw`/Users/mbairm12020/Documents/goldenstore/goldenstore/src/pages/admin/AdminStoreSettings.tsx#default`);function n(){return t.jsx(s,{})}}};var a=require("../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[948,678,325,496,292,60],()=>r(8918));module.exports=t})();